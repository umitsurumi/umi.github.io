<!-- build time:Sun Feb 19 2023 09:59:21 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="乌弥的小屋" href="https://www.umi.homes/rss.xml"><link rel="alternate" type="application/atom+xml" title="乌弥的小屋" href="https://www.umi.homes/atom.xml"><link rel="alternate" type="application/json" title="乌弥的小屋" href="https://www.umi.homes/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="前端学习,Vue"><link rel="canonical" href="https://www.umi.homes/posts/5aa/"><title>Vue 的一些基础 - 前端工程化 - 前端学习 | Umi's Blog = 乌弥的小屋 = 等待和希望，人类的智慧就包含在这两个词中</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Vue 的一些基础</h1><div class="meta"><span class="item" title="创建时间：2022-11-20 16:10:35"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-11-20T16:10:35+08:00">2022-11-20</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>12k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>11 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Umi's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://cdn.staticaly.com/gh/umitsurumi/image-hosting@master/cover/vue-cover.bzs4dw40ve0.webp"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 24 150 28" preserveaspectratio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/front-end/" itemprop="item" rel="index" title="分类于 前端学习"><span itemprop="name">前端学习</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/front-end/front-end-engineering/" itemprop="item" rel="index" title="分类于 前端工程化"><span itemprop="name">前端工程化</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.umi.homes/posts/5aa/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Umi"><meta itemprop="description" content="等待和希望，人类的智慧就包含在这两个词中, 乌弥的个人博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="乌弥的小屋"></span><div class="body md" itemprop="articleBody"><h2 id="vue-的前置知识"><a class="markdownIt-Anchor" href="#vue-的前置知识">#</a> Vue 的前置知识</h2><h3 id="javascript-的模块化"><a class="markdownIt-Anchor" href="#javascript-的模块化">#</a> JavaScript 的模块化</h3><p>JavaScript 中最早并没有语言级模块语法，在 web 开发的早期阶段，虽然可以通过拆分为多个文件来解决一份 JavaScript 过长的问题，但是这又导致了更多的新问题：</p><ol><li>多份文件中的同名变量引起变量冲突</li><li>大部分代码缺乏分割，需要整包引入到页面中</li><li>由于整包引入大文件阻塞页面的渲染</li><li>分给出的多份文件引起维护管理困难</li><li>其他问题…</li></ol><p>为了解决这些问题，社区发明了许多方法来将代码组织到模块中，使得使用特殊的库可以按需加载模块。<br>模块化的原则就是 “单一职责”，即：一个完整业务的内部实现，不应该将所有代码耦合到一处，而是按实现的功能拆分为代码块，再将这些代码块进行组合。实现某个功能的代码块即为模块。</p><p>模块化的实现有以下这些：</p><table><thead><tr><th>模块化方案</th><th>全称</th><th>适用范围</th></tr></thead><tbody><tr><td>CJS</td><td>CommonJS</td><td>Node 端</td></tr><tr><td>AMD</td><td>Async Module Definition</td><td>浏览器</td></tr><tr><td>CMD</td><td>Common Module Definition</td><td>浏览器</td></tr><tr><td>UMD</td><td>Universal Module Definition</td><td>Node 端和浏览器</td></tr><tr><td>ESM</td><td>ES Module</td><td>Node 端和浏览器</td></tr></tbody></table><p>AMD 是由 <code>require.js</code> 实现的最古老的模块系统之一。CMD 和 UMD 也已经属于过去式的模块化方案。<br>CJS（ <code>CommonJS</code> ）原本是服务端的模块化标准（设计之初也叫 <code>ServerJS</code> )，是为 JavaScript 设计的用于浏览器之外的一个模块化方案，Node.js 默认支持了该规范。从 Node12 开始，Node.js 已经支持最新的 <code>ES Module</code> 使用，但是由于历史原因，CJS 仍然是 Node 端较为流行的模块化方案。<br>ESM（ <code>ES Module</code> ）是 2015 年后在 JavaScript 标准（ES6）中出现的语言级模块系统，经过发展之后已经得到了所有主流浏览器和 Node.js 的支持，可以作为浏览器和服务端通用的模块解决方案。</p><h4 id="模块的一些特性"><a class="markdownIt-Anchor" href="#模块的一些特性">#</a> 模块的一些特性</h4><ol><li>模块中的代码始终是严格模式。</li><li>模块有各自的 “模块级作用域”，一个模块中的顶级作用域变量在另一个模块中是不可见的，需要通过导入 / 导出交换功能。</li><li>模块代码仅在第一次导入时被解析，如果它在多个位置被导入，那么第二次以后的位置会使用第一次导入提供的内容。</li></ol><h4 id="commonjs-模块设计"><a class="markdownIt-Anchor" href="#commonjs-模块设计">#</a> CommonJS 模块设计</h4><p><code>.cjs</code> 文件格式是 Node 专门为 CommonJS 规范设计的，一个采用 CommonJS 的 Node 项目常见结构如下：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>node-cjs</pre></td></tr><tr><td data-num="2"></td><td><pre>│ <span class="token comment"># 源码文件夹</span></pre></td></tr><tr><td data-num="3"></td><td><pre>├─src</pre></td></tr><tr><td data-num="4"></td><td><pre>│ │ <span class="token comment"># 业务文件夹</span></pre></td></tr><tr><td data-num="5"></td><td><pre>│ └─cjs</pre></td></tr><tr><td data-num="6"></td><td><pre>│   │ <span class="token comment"># 入口文件</span></pre></td></tr><tr><td data-num="7"></td><td><pre>│   ├─index.cjs</pre></td></tr><tr><td data-num="8"></td><td><pre>│   │ <span class="token comment"># 模块文件</span></pre></td></tr><tr><td data-num="9"></td><td><pre>│   └─module.cjs</pre></td></tr><tr><td data-num="10"></td><td><pre>│ <span class="token comment"># 项目清单</span></pre></td></tr><tr><td data-num="11"></td><td><pre>└─package.json</pre></td></tr></table></figure><p>CJS 使用 <code>module.exports</code> 语法导出模块，可以导出任何合法的 JavaScript 类型。<br><code>require</code> 语法导入模块，当导入模块为 <code>.js</code> 文件时，可以只写文件名，而导入 <code>.cjs</code> 文件则需要全名。</p><ul><li><p>默认导出和导入<br>默认导出意为着一个模块只包含一个值，默认导入意味着导入声明的变量即为对应的模块的值。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// src/cjs/module.cjs</span></pre></td></tr><tr><td data-num="2"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token string">"Hello from module.cjs!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// src/cjs/index.cjs</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"/module.cjs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//package.json 文件中添加 "scripts":&#123;"dev:cjs": "node src/cjs/index.cjs"&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 命令行运行 npm run dev:cjs</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 输出结果为 Hello from module.cjs!</span></pre></td></tr></table></figure></li><li><p>命名导出和导入<br>默认导出时，一个模块只包含一个值，命名导出可以以对象的形式导出多个数据：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// src/cjs/module.cjs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"Hello from foo!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello from bar!"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  foo<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  bar<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// src/cjs/index.cjs</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./module.cjs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">//m 是一个对象：&#123;foo: 'Hello from foo!', bar: [Function: bar] &#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 或者解构赋值的语法直接拿到变量</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// src/index/index.cjs</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">const</span> <span class="token punctuation">&#123;</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./module.cjs"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>导入时重命名<br>如果在不同模块间存在冲突变量，可以通过导入时重命名的方法来解决：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// src/cjs/index.cjs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">foo</span><span class="token operator">:</span> foo2<span class="token punctuation">,</span> <span class="token comment">// 解构赋值导入模块时重命名</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  bar<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./module.cjs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"Hi from foo"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 不会产生冲突</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hi from foo</span></pre></td></tr><tr><td data-num="11"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from foo!</span></pre></td></tr></table></figure></li></ul><h4 id="es-module-模块设计"><a class="markdownIt-Anchor" href="#es-module-模块设计">#</a> ES Module 模块设计</h4><p>ESM（ <code>ES Module</code> ）是新一代的模块化标准，它是在 ES6（ ECMAScript 2015 ）版本推出的，是原生 JavaScript 的一部分。<br>许多新的构建工具（如：Vite）默认只支持 ESM 方案，Node 端在 Node12 后也加入了 ESM 的支持。默认情况下，Node 端需要以 <code>.mjs</code> 扩展名支持 ESM, 一个 ESM 项目结构如下：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>node-esm</pre></td></tr><tr><td data-num="2"></td><td><pre>│ <span class="token comment"># 源码文件夹</span></pre></td></tr><tr><td data-num="3"></td><td><pre>├─src</pre></td></tr><tr><td data-num="4"></td><td><pre>│ │ <span class="token comment"># 业务文件夹</span></pre></td></tr><tr><td data-num="5"></td><td><pre>│ └─esm</pre></td></tr><tr><td data-num="6"></td><td><pre>│   │ <span class="token comment"># 入口文件</span></pre></td></tr><tr><td data-num="7"></td><td><pre>│   ├─index.mjs</pre></td></tr><tr><td data-num="8"></td><td><pre>│   │ <span class="token comment"># 模块文件</span></pre></td></tr><tr><td data-num="9"></td><td><pre>│   └─module.mjs</pre></td></tr><tr><td data-num="10"></td><td><pre>│ <span class="token comment"># 项目清单</span></pre></td></tr><tr><td data-num="11"></td><td><pre>└─package.json</pre></td></tr></table></figure><p>ESM 使用 <code>export default</code> 语法默认导出， <code>export</code> 语法命名导出。和 CJS 一样，ESM 也可以导出任何合法的 JavaScript 类型。<br><code>import ... from ...</code> 语法用于导入模块，对应 <code>.js</code> 结尾的文件同样可以省略扩展名。</p><ul><li><p>默认导出和导入<br>ESM 的默认导出同样是一个模块包含一个值，导入时声明的变量名即对应模块的值。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// src/esm/module.mjs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">"Hello from module.mjs!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// src/esm/index.mjs</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> m <span class="token keyword">from</span> <span class="token string">"module.mjs"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from module.mjs!</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//package.json 文件中添加 "scripts":&#123;"dev:esm": "node src/esm/index.mjs"&#125;</span></pre></td></tr></table></figure></li><li><p>命名导出和导入<br>与 CJS 不同。ESM 命名导出需要对导出的数据使用 <code>export</code> 进行：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// src/esm/module.mjs</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"Hello from foo!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello from bar!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 或者在声明后导出</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token string">"Hello from foo!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hello from bar!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">export</span> <span class="token punctuation">&#123;</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// src/esm/index.mjs</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./module.mjs"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from foo!</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from bar!</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 或者使用 * as 变量名 将所有命名导出为一个对象</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> m <span class="token keyword">from</span> <span class="token string">"./module.mjs"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['bar', 'foo']</span></pre></td></tr></table></figure><p>一般来讲，显式的分别导入比起将所有命名作为对象导入有以下优点：</p><ol><li>有利于打包工具的 “摇树”（tree-shaking），减小构建体积；</li><li>明确的导入使名称更短；</li><li>显示导入可以更好概述代码的结构，明确使用的内容和位置。</li></ol></li><li><p>导出导入时重命名<br>ESM 重命名使用 <code>oldName as newName</code> 语法：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 导出时重命名</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">export</span> <span class="token punctuation">&#123;</span> foo <span class="token keyword">as</span> foo1<span class="token punctuation">,</span> bar <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 导入时重命名</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> foo <span class="token keyword">as</span> foo2<span class="token punctuation">,</span> bar <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./module.mjs"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from foo!</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello from bar!</span></pre></td></tr></table></figure></li></ul><h4 id="浏览器中使用"><a class="markdownIt-Anchor" href="#浏览器中使用">#</a> 浏览器中使用</h4><p>浏览器中通过属性 <code>&lt;script type=&quot;module&quot;&gt;</code> 告诉浏览器此段脚本应该被当作模块对待。在浏览器中，模块只能通过 <code>http(s)</code> 工作，无法通过 <code>file://</code> 协议运行。</p><ul><li><p>浏览器中模块的特性</p><ol><li>浏览器中模块总是被延迟的，与 <code>defer</code> 的影响相同（不阻塞 HTML 处理，会在文档完全准备就绪后执行，保持脚本的相对顺序）。</li><li>外部的脚本只会执行一次，并且从另一个源获取的外部脚本需要 <code>CORS Header</code> 。</li><li>必须给出绝对或相对 URL 路径，不允许裸模块。</li></ol></li><li><p>动态导入<br><code>import(module)</code> 表达式加载模块并返回一个 <code>promise</code> ，它的 <code>resolve</code> 为一个包含其所有导出的模块对象，可以在代码中任意位置动态地使用它：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// module.js</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello from foo!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hello from bar!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">//index.html 动态导入</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 动态导入的 script 标签不需要 `type="module"`</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token keyword">let</span> <span class="token punctuation">&#123;</span><span class="token punctuation">(</span>foo<span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">"./module.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><h3 id="typescript-入门"><a class="markdownIt-Anchor" href="#typescript-入门">#</a> TypeScript 入门</h3><h4 id="简介"><a class="markdownIt-Anchor" href="#简介">#</a> 简介</h4><p>TypeScript 简称 TS，是 JavaScript 的一个超集，它在 JavaScript 的基础上增加了类型系统，并支持所有的 JavaScript 语法。在工程化开发中使用的 TypeScript，最终会在编译的时候去除特有的代码生成 js 文件。<br>TypeScript 的出现是为了弥补 JavaScript 过于灵活，没有类型约束的弊端，减少因为意料之外的类型转换带来的 BUG。</p><h4 id="hello-typescript"><a class="markdownIt-Anchor" href="#hello-typescript">#</a> Hello TypeScript</h4><p>TypeScript 对应的文件扩展名为 <code>.ts</code> ，在 Node 端中使用 TypeScript 需要以下两个依赖：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> typescript ts-node</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">#  package.json 文件中添加 "scripts":&#123;"dev:ts": "ts-node src/ts/index.ts"&#125;</span></pre></td></tr></table></figure><p>然后在 <code>/src/ts/index.ts</code> 中编辑：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token string">"Hello TypeScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 运行 npm run dev:ts 报错</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// Argument of type 'number' is not assignable to parameter of type 'string'.</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 5 greeting(123);</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 不合法的数值类型（number）被检测出来了</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 去除后正常运行</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">function</span> <span class="token function">greeting</span><span class="token punctuation">(</span>msg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token string">"Hello TypeScript!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello TypeScript!</span></pre></td></tr></table></figure><p><code>msg: string</code> 指定了入参的数据类型，不合法的数值类型导致报错，从而解决了由于 JavaScript 这种弱类型语言本身带来的一些缺陷。</p><h4 id="常见-ts-类型定义"><a class="markdownIt-Anchor" href="#常见-ts-类型定义">#</a> 常见 TS 类型定义</h4><ol><li><p>原始数据类型<br>TypeScript 中的原始数据类型与 JavaScript 相同，定义时只需要在变量后加上类型声明：</p><table><thead><tr><th>原始数据类型</th><th>JavaScript</th><th>TypeScript</th></tr></thead><tbody><tr><td>字符串</td><td>String</td><td>string</td></tr><tr><td>数值</td><td>Number</td><td>number</td></tr><tr><td>布尔值</td><td>Boolean</td><td>boolean</td></tr><tr><td>大整数</td><td>BigInt</td><td>bigint</td></tr><tr><td>符号</td><td>Symbol</td><td>symbol</td></tr><tr><td>不存在</td><td>Null</td><td>null</td></tr><tr><td>未定义</td><td>Undefined</td><td>undefined</td></tr></tbody></table><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> str<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">"Hello!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> num<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> bool<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 如果没有显示的声明也不会报错，TS 会根据声明变量时的赋值自动推导变量类型</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">22</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> isAdmin <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>数值<br>数组有两种定义方法：</p><table><thead><tr><th>数组里的数据</th><th>类型写法 1</th><th>类型写法 2</th></tr></thead><tbody><tr><td>字符串</td><td>string[]</td><td>Array&lt;string&gt;</td></tr><tr><td>数值</td><td>number[]</td><td>Array&lt;number&gt;</td></tr><tr><td>布尔值</td><td>boolean[]</td><td>Array&lt;boolean&gt;</td></tr><tr><td>大整数</td><td>bigint[]</td><td>Array&lt;bigint&gt;</td></tr><tr><td>符号</td><td>symbol[]</td><td>Array&lt;symbol&gt;</td></tr><tr><td>不存在</td><td>null[]</td><td>Array&lt;null&gt;</td></tr><tr><td>未定义</td><td>undefined[]</td><td>Array&lt;undefined&gt;</td></tr></tbody></table><p>类似的，如果数组在初始化的时候有初始数据，TS 会根据初始数据类型自动推导数组的类型。对于空数组，则必须显示的指定其类型，否则 TS 会认为其为 <code>any[]</code> 或 <code>never[]</code> 。</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> nums<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//number [] 语法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> strArr<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Hello'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//Array&lt;string > 语法</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> strs<span class="token operator">:</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'John'</span><span class="token punctuation">,</span><span class="token string">'Alex'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 根据初始值自动推断</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">const</span> objs<span class="token operator">:</span> object<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 对象可以使用对象数组</span></pre></td></tr></table></figure></li><li><p>对象<br>对象类型定义有两种语法支持</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//type 写法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">type</span> <span class="token class-name">Object</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">// ...</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//interface 写法</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">Object</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token comment">//...</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>大部分情况下，两者并无太大的区别，这里以 <code>interface</code> 写法为例。<br>在 TypeScript 中，对象常推荐用大驼峰写法来以示区别。</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 定义用户对象类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">UserItem</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  name<span class="token operator">:</span> sting<span class="token punctuation">;</span> <span class="token comment">// 定义属性的类型</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// ? 表示可选属性</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 声明对象时将其关联到类型上</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> user<span class="token operator">:</span> UserItem <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  name<span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  age<span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>如果一些属性的结构和自身一直，也可以直接调用。<br>而使用 <code>extends</code> 关键词还可以实现继承：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">UserItem</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  enjoyFoods<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  friendList<span class="token operator">:</span> UserItem<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 这个属性引用了本身的类型</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> petter<span class="token operator">:</span> UserItem <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  name<span class="token operator">:</span> <span class="token string">"Petter"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  age<span class="token operator">:</span> <span class="token number">28</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  enjoyFoods<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"rice"</span><span class="token punctuation">,</span> <span class="token string">"noodle"</span><span class="token punctuation">,</span> <span class="token string">"pizza"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  friendList<span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>      name<span class="token operator">:</span> <span class="token string">"Marry"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      age<span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      enjoyFoods<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"pizza"</span><span class="token punctuation">,</span> <span class="token string">"ice cream"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>      friendList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      name<span class="token operator">:</span> <span class="token string">"Tom"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      age<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>      enjoyFoods<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"chicken"</span><span class="token punctuation">,</span> <span class="token string">"cake"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      friendList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// Admin 继承了 UserItem 所有属性，并增加了一个权限等级</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">UserItem</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  permissionLevel<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// 继承时可以删除多余的属性</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// type Omit&lt;T, K extends string | number | symbol></span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment">// T 代表已有的对象类型，K 代表要删除的属性名，多个属性用 | 隔开</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">Omit<span class="token operator">&lt;</span>UserItem<span class="token punctuation">,</span> <span class="token string">"enjoyFoodS"</span> <span class="token operator">|</span> <span class="token string">"friendList"</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  permissionLevel<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>类<br>通过类得到的变量，它的类型就是这个类：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token comment">// 在 constructor 上的数据需要先定义类型</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">// 入参也需要定义类型</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token function">constructor</span><span class="token punctuation">(</span>userName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> userName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 而通过 new 得到的变量，它的类型就是这个类</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">const</span> petter<span class="token operator">:</span> User <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"petter"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>petter<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// petter</span></pre></td></tr></table></figure><p>类和类，类和对象（接口）之间可以通过 <code>extends</code> 继承：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">UserBase</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token function">constructor</span><span class="token punctuation">(</span>userName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> userAge<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> userName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> userAge<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 类的继承</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">UserBase</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  isAdmin<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 接口也可以继承自类</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Omit<span class="token operator">&lt;</span>Admin<span class="token punctuation">,</span> <span class="token string">"isAdmin"</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ol start="5"><li><p>联合类型与任意值<br>当一个变量可能出现多种类型值时，TypeScript 也允许使用联合类型来定义它，语法是在类型之间插入 <code>|</code> 符号分隔。<br>对于实在无法确定类型的变量，可以通过显示指定变量为任意值来解决，但是当使用时需要考虑程序的健壮性。</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span>count<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The count is</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>count<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 无论是数字还是字符串都不会报错</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">counter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// The count is 1.</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token function">counter</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// The count is 2.</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 显示指定为 any，因此以下代码也都可以正常运行</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">let</span> msg<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>msg <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>msg <span class="token operator">=</span> <span class="token string">"Hello"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li></ol></li></ol><h4 id="typescript-函数"><a class="markdownIt-Anchor" href="#typescript-函数">#</a> TypeScript 函数</h4><ol><li><p>函数的基本写法<br>TypeScript 的函数写法对比 JavaScript 的函数，就是在入参和出参的位置限定数据类型：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 1. 函数声明</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span> <span class="token function">sum1</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 2. 函数表达式</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">sum2</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 3. 箭头函数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">const</span> sum3 <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 4. 对象上写法</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token function">sum4</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>可选参数与返回值</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 和接口类似，如果是可选参数可以用？来表示</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 但可选参数的位置必须要在必传参数的后面</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> isDouble<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">return</span> isDouble <span class="token operator">?</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">:</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 有返回值的函数使用类型指定返回值，对于无返回值的函数使用 void 指定</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">function</span> <span class="token function">sayHi</span><span class="token punctuation">(</span>greeting<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>greeting<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token string">"John"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Hello, John!</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//void 与 null 和 undefined 不可混用，它们表达的是不同的含义</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 异步函数的返回值需要用 Promise&lt;T > 来定义</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">function</span> <span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token function">queryData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>函数的类型与重载<br>通常，对于箭头函数表达式声明的函数，TypeScript 会根据函数体自动推导变量的类型，如果有必要，也可以显示定义：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 自动推导的类型</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> x<span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">:</span> y<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 或者显示定义</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">const</span> <span class="token function-variable function">sum</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token punctuation">(</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  y<span class="token operator">:</span> <span class="token builtin">number</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=></span> x <span class="token operator">+</span> y<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 实际上可以认为是三部分</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">//const sum: (x: number, y: number) => number 是函数的名称和类型</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// = (x:number, y:number) 是声明了函数的入参和类型</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// : number => x + y 是函数返回值和类型</span></pre></td></tr></table></figure><p>当一个 API 有多个 TS 类型时，可以通过 <code>|</code> 接受多个类型，但更好的方法是利用函数的重载优化代码：</p><figure class="highlight typescript"><figcaption data-lang="typescript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token comment">// TS 类型，入参 string 时返回值也是 string</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// TS 类型，入参 string [] 时返回值也是 string []</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">// 这段开始才是函数体</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">return</span> name<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Welcome, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>n<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Welcome, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ol><h4 id="编译为-javascript"><a class="markdownIt-Anchor" href="#编译为-javascript">#</a> 编译为 JavaScript</h4><p>在浏览器中运行时，所有 TypeScript 需要被编译为 JavaScript 代码才能正常运行。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//package.json 中添加以下字段对 ts 文件进行编译</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token string-property property">"scripts"</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token string-property property">"build"</span><span class="token operator">:</span> <span class="token string">"tsc src/ts/index.ts --outDir dist"</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//--outDir 是指定输出目录的选项，运行 npm run build 会将编译后的 js 文件</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//--target es6 可以指定编译的 js 版本，如果是 es6 后，编译的多个 TS 模块会是 ESM 模块化风格，如果在 es6 之前，则编译的模块是 CJS 风格</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//--module 可以指定编译后是 CJS 还是 ESM 规范</span></pre></td></tr></table></figure><p>TypeScript 项目，全局安装 <code>typescript</code> 后可以通过 <code>tsc --init</code> 初始化 <code>tsconfig.json</code> 文件。通过这个配置文件可以按照要求对 <code>.ts</code> 文件进行编译。<br>但在实际的项目中，一般情况下，通过借助脚手架工具的帮助，在创建项目时就可以配置好通用的模板选项，只有在不满足要求时，才需要去进行调整。</p><h2 id="hello-vue3"><a class="markdownIt-Anchor" href="#hello-vue3">#</a> Hello Vue3!</h2><h3 id="vue-简介"><a class="markdownIt-Anchor" href="#vue-简介">#</a> Vue 简介</h3><p>Vue（发音 /vju:/，类似 view）是一款用于构建用户界面的 JavaScript 框架，它提供了一套声明式的、组件化的编程模型。</p><h4 id="vue-特点"><a class="markdownIt-Anchor" href="#vue-特点">#</a> Vue 特点</h4><ul><li>声明式：Vue 基于标准 HTML 扩展了一套模板语法，可以声明式地描述最终输出 HTML 和 JavaScript 之间的关系</li><li>响应性：Vue 会自动跟踪 JavaScript 状态并在其发生变化时响应式地更新 DOM</li><li>渐进式框架：Vue 设计注重灵活性和 “可以被逐步集成” 性，使得它可以被集成到任何场景</li></ul><h4 id="单文件组件"><a class="markdownIt-Anchor" href="#单文件组件">#</a> 单文件组件</h4><p>Vue 组件是一种单文件组件（Single-File Component，SFC），它会将一个组件的逻辑（JavaScript）、结构（HTML）和样式（CSS）封装到同一个文件里面：</p><pre><code class="language-vue">&lt;template&gt;
  &lt;button @click=&quot;count++&quot;&gt;Count is: &#123;&#123; count &#125;&#125;&lt;/button&gt;
&lt;/template&gt;
&lt;script&gt;
export default &#123;
  data() &#123;
    return &#123;
      count: 0,
    &#125;;
  &#125;,
&#125;;
&lt;/script&gt;
&lt;style&gt;
button &#123;
  font-weight: bold;
&#125;
&lt;/style&gt;
</code></pre><p>单组件文件必须使用构建工具，但是它带来了很多优点：例如关注点的自然内聚、组件作用域的 CSS、热更新支持…… 等等。<br>任何单组件都将交由 <code>@vue/compiler-sfc</code> 编译为标准的 JavaScript 和 CSS，一个编译后的 SFC 就是一个标准的 ESM 的 JavaScript 模块，因此可以像导入其他模块一样导入它。 <code>style</code> 标签里的样式会被抽离并合并成一个单独的 CSS 文件。</p><h4 id="api-风格"><a class="markdownIt-Anchor" href="#api-风格">#</a> API 风格</h4><p>Vue 组件有两种书写风格：选项式 API 和组合式 API：</p><ul><li><p>选项式 API</p><pre><code class="language-vue">&lt;script&gt;
export default &#123;
  // data() 返回的属性都将成为响应式状态并暴露在this上
  data() &#123;
    return &#123;
      count: 0,
    &#125;;
  &#125;,

  // methods 是一些更改状态与触发更新的函数
  methods: &#123;
    increment() &#123;
      this.count++;
    &#125;,
  &#125;,
  // computed 是vue中一个计算属性的API
  computed: &#123;
    double() &#123;
      return this.count * 2;
    &#125;,
  &#125;,
  // mounted 是生命周期钩子，它会在组件生命周期的不同阶段被调用
  mounted() &#123;
    console.log(`The initial count is $&#123;this.count&#125;`);
  &#125;,
&#125;;
&lt;/script&gt;
</code></pre></li><li><p>组合式 API<br>组合式 API 常与 <code>&lt;script setup&gt;</code> 一同使用，Vue 在编译时会进行一些预处理，使得可以用更方便简洁的方式书写组合式 API:</p><pre><code class="language-vue">&lt;script setup&gt;
import &#123; ref, onMounted &#125; from &quot;vue&quot;;
// 响应式状态
const count = ref(0);
// 修改触发更新的函数
function increment() &#123;
  count.value++;
&#125;

// 生命周期钩子
onMounted(() =&gt; &#123;
  console.log(`The initial count is $&#123;this.count&#125;`);
&#125;);
&lt;/script&gt;
</code></pre></li></ul><p>两种 API 风格都是 Vue 推荐的，它们的底层实现相同，实际上选项式 API 是在组合式 API 的基础上实现的。在低复杂度、不需要使用构建工具的场景，Vue 推荐选项式 API；在使用 Vue 构建完整的单页面应用时，Vue 推荐组合式 API 和单文件组件。</p><h3 id="创建-vue-应用"><a class="markdownIt-Anchor" href="#创建-vue-应用">#</a> 创建 Vue 应用</h3><p>安装最新版的<span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">Node.js</span>后，在命令行使用 <code>npm init vue</code> 创建一个 Vue 应用：</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>✔ Project name: … <span class="token operator">&lt;</span>your-project-name<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>✔ Add TypeScript? … No / Yes</pre></td></tr><tr><td data-num="3"></td><td><pre>✔ Add JSX Support? … No / Yes</pre></td></tr><tr><td data-num="4"></td><td><pre>✔ Add Vue Router <span class="token keyword">for</span> Single Page Application development? … No / Yes</pre></td></tr><tr><td data-num="5"></td><td><pre>✔ Add Pinia <span class="token keyword">for</span> state management? … No / Yes</pre></td></tr><tr><td data-num="6"></td><td><pre>✔ Add Vitest <span class="token keyword">for</span> Unit testing? … No / Yes</pre></td></tr><tr><td data-num="7"></td><td><pre>✔ Add Cypress <span class="token keyword">for</span> both Unit and End-to-End testing? … No / Yes</pre></td></tr><tr><td data-num="8"></td><td><pre>✔ Add ESLint <span class="token keyword">for</span> code quality? … No / Yes</pre></td></tr><tr><td data-num="9"></td><td><pre>✔ Add Prettier <span class="token keyword">for</span> code formatting? … No / Yes</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>Scaffolding project <span class="token keyword">in</span> ./<span class="token operator">&lt;</span>your-project-name<span class="token operator">></span><span class="token punctuation">..</span>.</pre></td></tr><tr><td data-num="12"></td><td><pre>Done.</pre></td></tr></table></figure><p>这个命令会安装并执行 <code>create-vue</code> ，这是 Vue 官方推荐的脚手架工具。生成的项目中使用的是组合式 API。<br>TypeScript 是 JavaScript 的一个超集，为 JavaScript 增加了静态类型。<br><span class="exturl" data-url="aHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnL3poLw==">VueRouter</span> 是 Vue.js 的官方路由，Vue3 对应 v4.x 版本，Vue2 对应 v3.x 版本。<br><span class="exturl" data-url="aHR0cHM6Ly9waW5pYS52dWVqcy5vcmcvemgvaW5kZXguaHRtbA==">Pinia</span> 是支持 Vue3 的 Vue 状态管理库，另一个 Vue 状态管理库是 Vuex。<br>ESlint 的主要功能包括代码格式化和代码质量的校验，Prettier 只包含对代码格式的校验。<br>对 Vue3 的项目来说，因为 Vue3 添加了对 TypeScript 的支持，所以推荐使用 Vue3+Vite+TS+Pinia+VueRouter 来进行。Vite 和 Pinia 也是官方推荐的构建工具和状态管理库。</p><figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment"># 之后进入刚才的目录，按照提示运行</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">npm</span> <span class="token function">install</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">npm</span> run dev</pre></td></tr></table></figure><p>一个 Vue 的 demo 项目就已经运行起来了。</p><div class="tags"><a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 前端</a> <a href="/tags/JavaScript/" rel="tag"><i class="ic i-tag"></i> JavaScript</a> <a href="/tags/Vue/" rel="tag"><i class="ic i-tag"></i> Vue</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-02-19 17:59:01" itemprop="dateModified" datetime="2023-02-19T17:59:01+08:00">2023-02-19</time> </span><span id="posts/5aa/" class="item leancloud_visitors" data-flag-title="Vue 的一些基础" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span>此文章已被阅读次数: </span><span id="twikoo_visitors">正在加载...</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Umi <i class="ic i-at"><em>@</em></i>乌弥的小屋</li><li class="link"><strong>本文链接：</strong> <a href="https://www.umi.homes/posts/5aa/" title="Vue 的一些基础">https://www.umi.homes/posts/5aa/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/posts/c8f1/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;illust_58389429_20190327_124842_copy.6xkd4h865fw0.webp" title="事件初步"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 前端基础</span><h3>事件初步</h3></a></div><div class="item right"><a href="/posts/41c6/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;vue-cover.bzs4dw40ve0.webp" title="Vue的模板语法"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 前端工程化</span><h3>Vue的模板语法</h3></a></div></div><div class="wrap"><div id="tcomments"></div></div><script src="https://cdn.staticfile.org/twikoo/1.6.9/twikoo.all.min.js"></script><script data-pjax>setTimeout(function(){twikoo.init({envId:"https://twikoo.umi.homes",el:"#tcomments"})},1e3)</script></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-%E7%9A%84%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">Vue 的前置知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#javascript-%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">1.1.</span> <span class="toc-text">JavaScript 的模块化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E7%9A%84%E4%B8%80%E4%BA%9B%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.1.</span> <span class="toc-text">模块的一些特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#commonjs-%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.1.2.</span> <span class="toc-text">CommonJS 模块设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#es-module-%E6%A8%A1%E5%9D%97%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.1.3.</span> <span class="toc-text">ES Module 模块设计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.4.</span> <span class="toc-text">浏览器中使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#typescript-%E5%85%A5%E9%97%A8"><span class="toc-number">1.2.</span> <span class="toc-text">TypeScript 入门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-typescript"><span class="toc-number">1.2.2.</span> <span class="toc-text">Hello TypeScript</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81-ts-%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89"><span class="toc-number">1.2.3.</span> <span class="toc-text">常见 TS 类型定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#typescript-%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">TypeScript 函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E8%AF%91%E4%B8%BA-javascript"><span class="toc-number">1.2.5.</span> <span class="toc-text">编译为 JavaScript</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-vue3"><span class="toc-number">2.</span> <span class="toc-text">Hello Vue3!</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%AE%80%E4%BB%8B"><span class="toc-number">2.1.</span> <span class="toc-text">Vue 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vue-%E7%89%B9%E7%82%B9"><span class="toc-number">2.1.1.</span> <span class="toc-text">Vue 特点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">2.1.2.</span> <span class="toc-text">单文件组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#api-%E9%A3%8E%E6%A0%BC"><span class="toc-number">2.1.3.</span> <span class="toc-text">API 风格</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-vue-%E5%BA%94%E7%94%A8"><span class="toc-number">2.2.</span> <span class="toc-text">创建 Vue 应用</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/posts/5aa/" rel="bookmark" title="Vue的一些基础">Vue的一些基础</a></li><li><a href="/posts/41c6/" rel="bookmark" title="Vue的模板语法">Vue的模板语法</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Umi" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Umi</p><div class="description" itemprop="description">乌弥的个人博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">22</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">8</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">15</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3VtaXRzdXJ1bWk=" title="https:&#x2F;&#x2F;github.com&#x2F;umitsurumi"><i class="ic i-github"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnlvdXJuYW1lQG1haWwuY29t" title="mailto:yourname@mail.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-magic"></i>链接</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/favorites/" rel="section"><i class="ic i-star"></i>收藏</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/posts/c8f1/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/posts/41c6/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Umi @ Umi's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">154k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">2:20</span></div><div class="icp"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://icp.gov.moe/?keyword=20221331">萌ICP备20221331</a></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"posts/5aa/",favicon:{show:"（●´3｀●）复活成功",hide:"(´Д｀)浏览器崩溃啦"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!1,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@9/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, theme: 'forest' });</script></body></html><!-- rebuild by hrmmi -->