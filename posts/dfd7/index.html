<!-- build time:Sat May 27 2023 07:30:34 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="乌弥的小屋" href="https://www.umi.homes/rss.xml"><link rel="alternate" type="application/atom+xml" title="乌弥的小屋" href="https://www.umi.homes/atom.xml"><link rel="alternate" type="application/json" title="乌弥的小屋" href="https://www.umi.homes/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Java,Java学习"><link rel="canonical" href="https://www.umi.homes/posts/dfd7/"><title>常用类库 - Java 基础 - 编程学习 | Umi's Blog = 乌弥的小屋 = 等待和希望，人类的智慧就包含在这两个词中</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">常用类库</h1><div class="meta"><span class="item" title="创建时间：2023-04-24 00:00:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2023-04-24T00:00:00+08:00">2023-04-24</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>14k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>12 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Umi's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://cdn.staticaly.com/gh/umitsurumi/image-hosting@master/cover/47906624_p0.6gp4xp8v5no0.webp"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 24 150 28" preserveaspectratio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/coding/" itemprop="item" rel="index" title="分类于 编程学习"><span itemprop="name">编程学习</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/coding/Java%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="分类于 Java 基础"><span itemprop="name">Java 基础</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.umi.homes/posts/dfd7/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Umi"><meta itemprop="description" content="等待和希望，人类的智慧就包含在这两个词中, 乌弥的个人博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="乌弥的小屋"></span><div class="body md" itemprop="articleBody"><h2 id="枚举与注解"><a class="markdownIt-Anchor" href="#枚举与注解">#</a> 枚举与注解</h2><h3 id="枚举"><a class="markdownIt-Anchor" href="#枚举">#</a> 枚举</h3><p>枚举类型（Enum）用来定义一组常量，它可以将常量封装在类或接口中。<br>Java 中使用 <code>enum</code> 关键字来定义枚举类型：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Size</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token constant">SMALL</span><span class="token punctuation">,</span> <span class="token constant">MEDIUM</span><span class="token punctuation">,</span> <span class="token constant">LARGE</span><span class="token punctuation">,</span> <span class="token constant">EXTRA_LARGE</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>枚举的本质也是一种类，它是一种受限制的类，并且具有自己的方法。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//java 源代码</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span> <span class="token keyword">extends</span> <span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">></span><span class="token punctuation">></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">implements</span> <span class="token class-name">Constable</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">></span></span><span class="token punctuation">,</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>枚举类默认继承 <code>java.lang.Enum</code> 类，所以枚举类不能再继承其他的类。<br>利用枚举可以将常量组织起来，统一进行管理。</p><h4 id="枚举的特性"><a class="markdownIt-Anchor" href="#枚举的特性">#</a> 枚举的特性</h4><p><code>enum</code> 定义的枚举，本质上也是类，除了一些独有的特性，可以将枚举视为常规的类。</p><ul><li>枚举类的常量对象列表必须要在枚举类的首行，并且规范要求为大写（常量）</li><li>如果常量对象后面没有其他的代码，那么可以省略 <code>;</code> ，否则不可省略</li><li>列出的实例会被系统自动添加 <code>public static final</code> 修饰符，如果没有定义其他方法，枚举值会是默认从 <code>0</code> 开始的有序数列</li><li>编译器默认会给枚举类提供 <code>private</code> 的无参构造，如果需要有参构造需要手动定义， <code>private</code> 修饰符可以省略，调用有参构造是在常量对象后面加参数列表</li></ul><p>此外就和普通的类一样，枚举类可以添加方法，也可以实现接口。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Week</span><span class="token punctuation">.</span><span class="token constant">FRIDAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Week</span><span class="token punctuation">.</span><span class="token constant">FRIDAY</span><span class="token punctuation">.</span><span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">interface</span> <span class="token class-name">Info</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">enum</span> <span class="token class-name">Week</span> <span class="token keyword">implements</span> <span class="token class-name">Info</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token function">MONDAY</span><span class="token punctuation">(</span><span class="token string">"星期一"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">TUESDAY</span><span class="token punctuation">(</span><span class="token string">"星期二"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">WEDNESDAY</span><span class="token punctuation">(</span><span class="token string">"星期三"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token function">THURSDAY</span><span class="token punctuation">(</span><span class="token string">"星期四"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token function">FRIDAY</span><span class="token punctuation">(</span><span class="token string">"星期五"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token function">SATURDAY</span><span class="token punctuation">(</span><span class="token string">"星期六"</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token function">SUNDAY</span><span class="token punctuation">(</span><span class="token string">"星期天"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token class-name">Week</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token keyword">return</span> description<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="枚举的方法"><a class="markdownIt-Anchor" href="#枚举的方法">#</a> 枚举的方法</h4><p>在 <code>enum</code> 中，提供了一些基本的方法</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>values()</code></td><td>返回 <code>enum</code> 实例的数组，数组顺序按照元素声明时的顺序</td></tr><tr><td><code>name()</code></td><td>返回实例名</td></tr><tr><td><code>ordinal()</code></td><td>返回实例声明时的次序，从 0 开始</td></tr><tr><td><code>getDeclaringClass()</code></td><td>返回实例所属的 <code>enum</code> 类型</td></tr><tr><td><code>equals()</code></td><td>判断是否为同一个对象</td></tr></tbody></table><p>枚举类重写了 <code>toString()</code> 方法，使得每次返回的是实例名。<br><strong>枚举类的每个常量在 JVM 中只有一个唯一实例，所以它可以直接使用 <code>==</code> 来比较</strong>。<br><code>switch...case...</code> 语法支持枚举类。</p><h3 id="注解"><a class="markdownIt-Anchor" href="#注解">#</a> 注解</h3><p>注解（Annotation）从 JDK5 开始引入，以 <code>@注解名</code> 的形式在代码中。<br>注解可以像修饰符一样被使用，可以用于修饰包、类、构造器、方法、成员变量、参数、局部变量的声明，还可以添加一些参数，这些信息被保存在注解的 <code>name = value</code> 中。<br>注解可以在类编译、运行时进行加载，体现不同的功能。</p><h4 id="注解的使用"><a class="markdownIt-Anchor" href="#注解的使用">#</a> 注解的使用</h4><p>注解可以看作是一种给编译器或其他程序读取的注释。程序可以根据注解的不同进行相应的处理。<br>JavaSE 中，注解的使用目的比较简单，例如标记过时的功能，忽略警告等。<br>JavaEE/Android 中注解占据了更重要的角色，例如用来配置应用程序的任何切面，代替 JavaEE 旧版中所遗留的繁冗代码和 XML 配置等。<br>更复杂的开发中，一定程度上可以说，<em>框架 = 注解 + 反射 + 设计模式</em>。</p><h4 id="常见注解"><a class="markdownIt-Anchor" href="#常见注解">#</a> 常见注解</h4><ol><li><p>文档相关注解</p><table><thead><tr><th>注解</th><th>说明</th></tr></thead><tbody><tr><td><code>@author</code></td><td>标明开发该类模块的作者</td></tr><tr><td><code>@version</code></td><td>标明开发该类模块的版本</td></tr><tr><td><code>@see</code></td><td>转向参考相关主题</td></tr><tr><td><code>@since</code></td><td>标明从哪个版本开始增加的</td></tr><tr><td><code>@param</code></td><td>对方法中某参数的说明</td></tr><tr><td><code>@return</code></td><td>对方法返回值的说明</td></tr><tr><td><code>@exception</code></td><td>对方法可能抛出的异常进行说明</td></tr></tbody></table></li><li><p>编译时相关注解</p><ul><li><code>@Override</code> ：限定重写父类方法，该注解只能用于方法</li><li><code>@Deprecates</code> ：用于表示所修饰的元素（类、方法等）已经过时，不推荐使用</li><li><code>@SuppressWarnings</code> ：抑制编译器警告，可以指定 <code>all</code> 、 <code>unused</code> 、 <code>unchecked</code> 等</li></ul></li><li><p>元注解<br>JDK5 在 <code>java.lang.annotation</code> 包定义了 4 个标准的 <code>meta-annotation</code> 类型，它们被用来提供对其它 <code>annotation</code> 类型作说明。</p><ul><li><code>@Target</code> ：用于描述注解的使用范围，使用 <code>ElementType</code> 枚举类型的 10 个常量对象指定</li><li><code>@Retention</code> ：用于描述注解的生命周期，使用 <code>RetentionType</code> 枚举类型的 3 个常量对象指定</li><li><code>@Documented</code> ：表明这个注解应该被 <code>javadoc</code> 工具记录</li><li><code>@Inherited</code> ：允许子类继承父类中的注解</li></ul></li></ol><h4 id="自定义注解"><a class="markdownIt-Anchor" href="#自定义注解">#</a> 自定义注解</h4><p>一个完整的注解包括三个部分：声明、使用和读取。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">[</span>元注解<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">[</span>修饰符<span class="token punctuation">]</span> <span class="token annotation punctuation">@interface</span> 注解名 <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token punctuation">[</span>成员<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><ul><li>自定义注解可以通过四个元注解分别说明它的生命周期、使用位置、是否继承，是否被生成到 API 文档中。</li><li>可以使用 <code>default</code> 关键字为抽象方法指定默认返回值。</li><li><code>Annotation</code> 的成员在 <code>Annotation</code> 定义中以无参数有返回值的抽象方法的形式来声明，称之为配置参数。返回值类型只能是基本数据类型、 <code>String</code> 类型、 <code>Class</code> 类型、 <code>Enum</code> 类型、 <code>Annotation</code> 类型或以上类型的数组。</li><li>如果定义的注解含有抽象方法，那么使用时必须指定返回值，除非它有默认值。格式是 <code>方法名 = 返回值</code> ，如果只有一个抽象方法需要赋值，且方法名为 <code>value</code> ，可以省略 <code>value=</code> ，所以如果注解只有一个抽象方法成员，建议使用方法名 <code>value</code> 。</li></ul><p>自定义注解，必须配上注解的信息处理流程才有意义。因为自定义的注解，只能使用反射的代码读取，所以<strong>自定义注解的声明周期必须是 <code>RetentionPolicy.RUNTIME</code> </strong>。</p><h3 id="记录"><a class="markdownIt-Anchor" href="#记录">#</a> 记录</h3><h4 id="简介"><a class="markdownIt-Anchor" href="#简介">#</a> 简介</h4><p>记录（Record）类型是从 JDK14 开始引入的，使用 <code>record</code> 可以定义一个记录类。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token class-name">Point</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token class-name">GeoLocation</span><span class="token punctuation">(</span><span class="token keyword">double</span> lng<span class="token punctuation">,</span> <span class="token keyword">double</span> lat<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>运行结果如下：</p><figure class="highlight bash"><figcaption data-lang="bash"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">25.25</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">55.37</span></pre></td></tr><tr><td data-num="3"></td><td><pre>GeoLocation<span class="token punctuation">[</span>lng<span class="token operator">=</span><span class="token number">25.25</span>, <span class="token assign-left variable">lat</span><span class="token operator">=</span><span class="token number">55.37</span><span class="token punctuation">]</span></pre></td></tr></table></figure><p>记录类是一种不变类，类似于 <code>String</code> ，一定程度上可以认为上面这段代码的等价写法如下：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">GeoLocation</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">double</span> lng<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">private</span> <span class="token keyword">double</span> lat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token class-name">GeoLocation</span><span class="token punctuation">(</span><span class="token keyword">double</span> lng<span class="token punctuation">,</span> <span class="token keyword">double</span> lat<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>lng <span class="token operator">=</span> lng<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>lat <span class="token operator">=</span> lat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">lng</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lng<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">lat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token annotation punctuation">@Override</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token keyword">return</span> <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"[lng="</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">", lat="</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lat <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>record</code> 的 <code>.class</code> 文件也可以证明：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">record</span> <span class="token class-name">GeoLocation</span><span class="token punctuation">(</span><span class="token keyword">double</span> lng<span class="token punctuation">,</span> <span class="token keyword">double</span> lat<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token class-name">GeoLocation</span><span class="token punctuation">(</span><span class="token keyword">double</span> lng<span class="token punctuation">,</span> <span class="token keyword">double</span> lat<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>lng <span class="token operator">=</span> lng<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token keyword">this</span><span class="token punctuation">.</span>lat <span class="token operator">=</span> lat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">lng</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lng<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">lat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lat<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="说明"><a class="markdownIt-Anchor" href="#说明">#</a> 说明</h4><p>可以将记录类看作一种特殊的类，它的一些特性如下：</p><ol><li>和枚举类似，记录类总是继承自 <code>java.lang.Record</code> ，不能再继承其他的类，也不支持继承。</li><li>记录类不能定义自己的实例变量，只有在头部组件中提供的变量才会被创建。但是可以在记录类中包含静态变量，使用 <code>记录类名.变量名</code> 的方式使用。</li><li>记录类可以实现接口，也可以使用构造方法，为变量设置初始值等。</li><li>记录类是一种不变类，在记录类中定义方法要确保不会打破记录类的不可变性。</li></ol><blockquote><p>不变类有以下特点：</p><ul><li>定义 class 时使用 final，无法派生子类；</li><li>每个字段使用 final，保证创建实例后无法修改任何字段。</li></ul></blockquote><p>记录类是一种更为简洁、紧凑的不变类的定义方式。</p><h2 id="包装类与运算"><a class="markdownIt-Anchor" href="#包装类与运算">#</a> 包装类与运算</h2><h3 id="包装类"><a class="markdownIt-Anchor" href="#包装类">#</a> 包装类</h3><p>Java 中为八种基本数据类型都定义了相应的引用数据类型，称为包装类：</p><table><thead><tr><th>基本数据类型</th><th>包装类</th></tr></thead><tbody><tr><td><code>byte</code></td><td><code>Byte</code></td></tr><tr><td><code>short</code></td><td><code>Short</code></td></tr><tr><td><code>int</code></td><td><code>Integer</code></td></tr><tr><td><code>long</code></td><td><code>Long</code></td></tr><tr><td><code>float</code></td><td><code>Float</code></td></tr><tr><td><code>double</code></td><td><code>Double</code></td></tr><tr><td><code>boolean</code></td><td><code>Boolean</code></td></tr><tr><td><code>char</code></td><td><code>Character</code></td></tr></tbody></table><p>包装类中，数字相关的包装类又都派生于 <code>Number</code> 父类。<br><strong>所有的包装类都是不变类</strong>，可以保证在创建了包装类对象后，该对象就是不变的。<br>引入包装类的目的就是为了提供一种机制，使得基本数据类型可以与引用数据类型相互转换。</p><h4 id="装箱与拆箱"><a class="markdownIt-Anchor" href="#装箱与拆箱">#</a> 装箱与拆箱</h4><p>基本数据类型和引用数据类型的相互转换称为<strong>装箱</strong>和<strong>拆箱</strong>。<br>装箱（boxing）是指将值类型转为引用类型，是调用包装类的 <code>valueOf</code> 方法实现的；<br>拆箱（unboxing）是将引用类型转为值类型，是调用包装类的 <code>xxxValue</code> 方法实现的。<br>为了便于使用，Java 编译器提供了自动装箱和自动拆箱的功能：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 非自动装箱</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Integer</span> i1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">Integer</span> i2 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 自动装箱</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">Integer</span> i3 <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 非自动拆箱</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">int</span> i4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 自动拆箱</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">int</span> i5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 自动装箱和自动拆箱只能发生在对应的基本数据类型和包装类之间，否则会报错</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token class-name">Double</span> d <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>自动装箱和自动拆箱只发生在编译阶段，是为了方便代码的书写。在循环体中使用装箱和拆箱，会隐式地创建大量对象，影响程序的运行效率。</p><p>另外一点需要注意的是，对于<strong>包装类，应该时刻将其视为对象</strong>。比较时应该使用 <code>equals()</code> 而不是 <code>==</code> 。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">Integer</span> c <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">Integer</span> d <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">int</span> e <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a == b ："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"c == d ："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"c == e ："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"c.equals(d) ："</span> <span class="token operator">+</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"><span>打印结果</span></figcaption><table><tr><td data-num="1"></td><td><pre>a <span class="token operator">==</span> b ：true</pre></td></tr><tr><td data-num="2"></td><td><pre>c <span class="token operator">==</span> d ：false</pre></td></tr><tr><td data-num="3"></td><td><pre>c <span class="token operator">==</span> e ：true</pre></td></tr><tr><td data-num="4"></td><td><pre>c.equals<span class="token punctuation">(</span>d<span class="token punctuation">)</span> ：true</pre></td></tr></table></figure><p>当包装类和基本数据类型判等时，Java 会将包装类对象自动拆箱为基本数据类型，再去进行比较。<br>当两个包装类使用 <code>==</code> 判等时，可以认为比较的仍然是它们的地址值。而因为 JVM 进行了优化，对 <code>[-128,127]</code> 区间的数值，为了节省内存，自动装箱始终返回相同的实例，因此， <code>==</code> 结果恰好为 <code>true</code> 。<br>因此，在对包装类判等时，应该始终使用 <code>equals()</code> 。</p><h4 id="类型转换"><a class="markdownIt-Anchor" href="#类型转换">#</a> 类型转换</h4><p>借助包装类的方法，可以实现基本数据类型、包装类和字符串的转换，具体来说如下：</p><ul><li><p>基本数据类型和包装类</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>* 基本类型转包装类</pre></td></tr><tr><td data-num="3"></td><td><pre>* 1. 构造器方法</pre></td></tr><tr><td data-num="4"></td><td><pre>* 2. valueOf 静态方法</pre></td></tr><tr><td data-num="5"></td><td><pre>* 3. 自动装箱</pre></td></tr><tr><td data-num="6"></td><td><pre>* */</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token class-name">Float</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token number">3.4F</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token class-name">Double</span> d1 <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">6.4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token class-name">Double</span> d2 <span class="token operator">=</span> <span class="token number">6.4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="13"></td><td><pre>* 包装类转基本数据类型</pre></td></tr><tr><td data-num="14"></td><td><pre>* 1. 调用包装类的 xxxValue () 方法</pre></td></tr><tr><td data-num="15"></td><td><pre>* 2. 自动拆箱</pre></td></tr><tr><td data-num="16"></td><td><pre>* */</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">156</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">241</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>基本数据类型和字符串</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="2"></td><td><pre>* 基本数据类型转字符串</pre></td></tr><tr><td data-num="3"></td><td><pre>* 1. String.valueOf ()</pre></td></tr><tr><td data-num="4"></td><td><pre>* 2. 字符串拼接</pre></td></tr><tr><td data-num="5"></td><td><pre>*  */</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token char">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token char">'a'</span> <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre> <span class="token comment">/*</span></pre></td></tr><tr><td data-num="10"></td><td><pre>* 字符串转基本数据类型</pre></td></tr><tr><td data-num="11"></td><td><pre>* 1. 调用相应包装类的 parseXxx (String) 方法</pre></td></tr><tr><td data-num="12"></td><td><pre>* 2. 通过包装类构造器转换</pre></td></tr><tr><td data-num="13"></td><td><pre>* 3. 转为包装类再通过自动拆箱实现</pre></td></tr><tr><td data-num="14"></td><td><pre>* */</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">int</span> o <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"14"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token string">"15"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">int</span> q <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"16"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>字符串和包装类</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 包装类转字符串，调用 toString () 方法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">String</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">String</span> t <span class="token operator">=</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 字符串转包装类，调用 valueOf () 方法</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token class-name">Double</span> j <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">"2.0D"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token class-name">Float</span> k <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float</span><span class="token punctuation">(</span><span class="token string">"4.0F"</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li></ul><h4 id="包装类的使用"><a class="markdownIt-Anchor" href="#包装类的使用">#</a> 包装类的使用</h4><ol><li><p><code>valueOf()</code><br><code>valueOf()</code> 方法始终返回的是当前包装类对象。以 <code>Integer</code> 为例：</p><ul><li>当参数为字符串或其他进制数时， <code>valueOf()</code> 方法实际上是先调用 <code>parseInt()</code> 方法处理后再创建的包装类对象。</li><li>当参数在包装类的缓存区间 <code>[-128,127]</code> 时（浮点型没有缓存），会返回同一个实例对象而不是新建一个，因此 <code>valueOf()</code> 方法稍优于直接使用构造函数方法。</li></ul></li><li><p><code>toString()</code><br><code>toString()</code> 方法主要用于返回字符串，以 <code>Integer</code> 为例：</p><ul><li>对包装类对象，方法返回的是它值的字符串表示，方法没有参数。</li><li>当传入参数时，调用的是包装类的静态方法，第一个参数为基本数据类型，第二个参数为转换的进制数。</li><li><code>Integer</code> 中还提供了三种静态方法，用于直接转换为无符号的二、八、十六进制整数字符串。</li></ul></li><li><p><code>toLowerCase()</code> 和 <code>toUpperCase()</code><br><code>Character</code> 类方法，用于转换大小写字符，返回值为字符。</p></li><li><p><code>isLetter()</code> 和 <code>isDigit()</code><br><code>Character</code> 类方法，判断字符是字符还是数字，返回值为布尔值。</p></li><li><p><code>Number</code> 类<br><code>Number</code> 类是其他数字类型包装类的父类，包含了数值类型的转换方法，可以利用它来实现数值类型的转换。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// Number 类是一个抽象类</span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Number</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">int</span> <span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">long</span> <span class="token function">longValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">float</span> <span class="token function">floatValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">double</span> <span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">byte</span> <span class="token function">byteValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>         <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>     <span class="token keyword">public</span> <span class="token keyword">short</span> <span class="token function">shortValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>         <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>     <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre> <span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>常量值<br>包装类中还提供了一些有用的静态常量值，比如：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Boolean</span> t <span class="token operator">=</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token constant">TRUE</span><span class="token punctuation">;</span>  <span class="token comment">// true</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Boolean</span> f <span class="token operator">=</span> <span class="token class-name">Boolean<span class="token punctuation">.</span>False</span><span class="token punctuation">;</span>  <span class="token comment">// false</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">;</span> <span class="token comment">// 2147483647</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MIN_VALUE</span><span class="token punctuation">;</span> <span class="token comment">// -2147483648</span></pre></td></tr></table></figure></li></ol><h3 id="数学运算"><a class="markdownIt-Anchor" href="#数学运算">#</a> 数学运算</h3><h4 id="math"><a class="markdownIt-Anchor" href="#math">#</a> Math</h4><p>Java 中提供了一个执行基本数学运算的 <code>Math</code> 工具类，调用时使用 <code>Math.方法名</code> 即可。常见的方法如下：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>Math.abs(value)</code></td><td>返回 <code>value</code> 的绝对值</td></tr><tr><td><code>Math.ceil(value)</code></td><td>返回大于等于 <code>value</code> 的最小整数</td></tr><tr><td><code>Math.floor(value)</code></td><td>返回小于等于 <code>value</code> 的最大整数</td></tr><tr><td><code>Math.round(value)</code></td><td>返回 <code>value</code> 四舍五入的结果</td></tr><tr><td><code>Math.pow(a,b)</code></td><td>返回<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>a</mi><mi>b</mi></msup></mrow><annotation encoding="application/x-tex">a^{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.849108em;vertical-align:0"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.849108em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span></span></span></span></span> 的计算结果</td></tr><tr><td><code>Math.sqrt(value)</code></td><td>返回 <code>value</code> 的平方根</td></tr><tr><td><code>Math.random()</code></td><td>随机返回 <code>[0,1)</code> 区间的结果</td></tr><tr><td><code>Math.max(a,b)</code></td><td>返回 <code>a</code> 与 <code>b</code> 之间的较大值</td></tr><tr><td><code>Math.min(a,b)</code></td><td>返回 <code>a</code> 与 <code>b</code> 之间的较小值</td></tr><tr><td><code>Math.PI</code></td><td>常量，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">π</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.03588em">π</span></span></span></span></td></tr><tr><td><code>Math.E</code></td><td>常量，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.43056em;vertical-align:0"></span><span class="mord mathnormal">e</span></span></span></span></td></tr></tbody></table><p><code>Math</code> 类中还提供了三角函数运算、指对数运算等。</p><p>另外，对于单独生成随机数，Java 在 <code>java.util</code> 包中还提供了 <code>Random</code> 类。与可以直接调用的 <code>Math.random()</code> 静态方法不同，使用 <code>Random</code> 类需要先实例化它：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 以系统时间作为随机数生成器的种子</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 或者实例化时传入一个随机数生成器的种子</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token class-name">Random</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span>seedValue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 使用 Random 类的方法生成随机数</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">int</span> i <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个随机整数</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">int</span> j <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个 [0,n-1] 区间的随机整数</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">long</span> l <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个随机长整数</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">boolean</span> b <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个随机布尔型</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">float</span> f <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个随机单精度浮点数</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">double</span> d <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个随机双精度浮点数</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">double</span> g <span class="token operator">=</span> r<span class="token punctuation">.</span><span class="token function">nextGaussian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回一个概率密度为高斯分布的双精度浮点数</span></pre></td></tr></table></figure><h4 id="biginteger-与-bigdecimal"><a class="markdownIt-Anchor" href="#biginteger-与-bigdecimal">#</a> BigInteger 与 BigDecimal</h4><p><code>Integer</code> 和 <code>Long</code> 作为包装类，虽然可以进行整数的运算，但是对于超过它们取值访问的数值就无能为力了。Java 中提供了 <code>BigInteger</code> 这个类来表示<strong>不可变的任意精度的整数</strong>。<br><code>BigInteger</code> 类由 <code>java.math</code> 包提供，它有所有 Java 基本整数操作符的对应方法，并还提供 <code>java.lang.Math</code> 的所有方法。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token comment">//new BigInteger (String val)，根据字符串构建 BigInteger 对象</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">BigInteger</span> b1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"123456789123456789123456789"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">BigInteger</span> b2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">"987654321987654321987654321"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token comment">// BigInteger 的运算需要使用它的方法，而不能直接使用运算符进行</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b1 + b2</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// b1 - b2</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// b1 * b2</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// b1 / b2</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">remainder</span><span class="token punctuation">(</span>b2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b1 % b2</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b1<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// b1^2</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>浮点数直接进行运算时，因为 Java 中的浮点数使用 IEEE 754 标准，所有在直接用来计算的时候可能会出现精度问题，例如： <code>0.1 + 0.2 == 0.3</code> 的结果是 <code>false</code> 。更详细的浮点数内存分析可以参见这篇文章：<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC50ZW5jZW50LmNvbS9kZXZlbG9wZXIvYXJ0aWNsZS8xNDczNTQx">浮点类型（float、double）在内存中如何存储？</span><br>为了解决这个问题，Java 中使用 <code>BigDecimal</code> 类来表示<strong>不可变的任意精度浮点数</strong>，它同样由 <code>java.math</code> 包提供。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token comment">// 可以使用 new BigDecimal (String val) 或者 new BigDecimal (double val) 创建，但是建议使用字符串方法，否则仍然会有精度问题</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">BigDecimal</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"0.2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token class-name">BigDecimal</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"0.1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token class-name">BigDecimal</span> d3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token class-name">BigDecimal</span> d4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token class-name">BigDecimal</span> d5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">"0.3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token comment">// 0.3000000000000000166533453693773481063544750213623046875</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>d4<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token comment">// 结果为 0.3，符合预期</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>d2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>        <span class="token comment">// 除法运算需要指定舍入方式和精度</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token comment">// divide(BigDecimal divisor,int scale,java.math.RoundingMode roundingMode)</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>d5<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">DOWN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.66，直接舍去</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>d5<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">UP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.67，进一位</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d1<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>d5<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span><span class="token constant">HALF_UP</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0.67，四舍五入</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><div class="note info"><p>两个 <code>BigDecimal</code> 进行比较，应该使用 <code>compareTo()</code> 方法而不是 <code>equals()</code> 方法。因为 <code>equals()</code> 方法不但要求它们的值相等，也要求它们的小数位数也要相等。</p></div><h2 id="日期和时间"><a class="markdownIt-Anchor" href="#日期和时间">#</a> 日期和时间</h2><h3 id="旧-api"><a class="markdownIt-Anchor" href="#旧-api">#</a> 旧 API</h3><h4 id="date"><a class="markdownIt-Anchor" href="#date">#</a> Date</h4><p><code>Date</code> 类用于表示日期，使用该类需要先创建对象：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 以当前本地时间创建时间对象</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">Date</span> d1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 以时间戳创建时间对象</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token class-name">Date</span> d2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1800000000000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>所谓<strong>时间戳，是指时间距离 1970 年 1 月 1 日 00:00:00GMT 的毫秒数</strong>。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 获取当前时间戳</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><code>Date</code> 对象中使用 <code>getTime()</code> 方法可以查看当前时间对象的时间戳，使用 <code>toString()</code> 方法可以将时间对象转为形如： <code>Fri Jan 15 16:00:00 CST 2027</code> 的字符串。<br>其他的 <code>Date</code> 类的 API 大多已经过时了。它们被移动到了 <code>Calender</code> 类中。</p><h4 id="calendar"><a class="markdownIt-Anchor" href="#calendar">#</a> Calendar</h4><p><code>Calendar</code> 类用于获取并设置年月日分秒等：</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token comment">// 获取当前时间:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token keyword">int</span> y <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">YEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">int</span> d <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_MONTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token keyword">int</span> w <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">DAY_OF_WEEK</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token keyword">int</span> hh <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">HOUR_OF_DAY</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token keyword">int</span> mm <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MINUTE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token keyword">int</span> ss <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">SECOND</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token keyword">int</span> ms <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token constant">MILLISECOND</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> m <span class="token operator">+</span> <span class="token string">"-"</span> <span class="token operator">+</span> d <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> w <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> hh <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> mm <span class="token operator">+</span> <span class="token string">":"</span> <span class="token operator">+</span> ss <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>Calendar</code> 类中，返回的月份需要加 1，返回的星期 1~7 分别对应星期日到星期六。<br><code>Calendar</code> 类是一个抽象类，只能使用 <code>Calendar.getInstance()</code> 方法来获取当前时间，如果希望获得一个特定的时间，就只能手动进行设置：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>set(int field,int value)</code></td><td>将给定的日历字段设置为指定的值</td></tr><tr><td><code>add(int field,int amount)</code></td><td>根据日历的规则，为给定的日历字段添加时间量</td></tr><tr><td><code>getTime()</code></td><td>将 <code>Calendar</code> 转成 <code>Date</code> 对象</td></tr><tr><td><code>setTime(Date date)</code></td><td>使用指定的 <code>Date</code> 对象重置 <code>Calendar</code> 对象</td></tr><tr><td><code>setTimeZone(java.util.TimeZone value)</code></td><td>使用指定的时区值设置 <code>Calendar</code> 对象</td></tr><tr><td><code>setTimeInMillis(long millis)</code></td><td>使用给定的 <code>long</code> 值设定 <code>Calendar</code> 对象当前时间</td></tr></tbody></table><p>常见的字段（filed）名如下：</p><table><thead><tr><th>字段名</th><th>说明</th></tr></thead><tbody><tr><td>YEAR</td><td>年</td></tr><tr><td>MONTH</td><td>月，需要 + 1</td></tr><tr><td>DAY_OF_MONTH</td><td>月中的哪天</td></tr><tr><td>DAY_OF_WEEK</td><td>周中的周几</td></tr><tr><td>HOUR</td><td>小时（12 进制）</td></tr><tr><td>HOUR_OF_DAY</td><td>小时（24 进制）</td></tr><tr><td>MINUTE</td><td>分钟</td></tr><tr><td>SECOND</td><td>秒</td></tr></tbody></table><h4 id="格式化"><a class="markdownIt-Anchor" href="#格式化">#</a> 格式化</h4><p><code>SimpleDateFormat</code> 类是一个不与语言环境有关的方式来格式化和解析日期的具体<br>类。</p><ul><li>构造器：<ul><li><code>SimpleDateFormat()</code> ：默认的模板和语言环境创建对象。</li><li><code>SimpleDateFormat(String pattern)</code> ：从指定参数 <code>pattern</code> 的格式创建对象。</li></ul></li><li>格式化<ul><li><code>format(Date date)</code> ：按方法格式化时间对象。</li></ul></li><li>解析：<ul><li><code>parse(String source)</code> ：从给定字符串开始解析文本以生成。</li></ul></li></ul><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Date</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1800000000000L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">SimpleDateFormat</span> sf1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sf1<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token class-name">SimpleDateFormat</span> sf2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy年MM月dd日 EEEE HH时mm分ss秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sf2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><figure class="highlight bash"><figcaption data-lang="bash"><span>日期的格式化</span></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">2027</span>/1/15 下午4:00</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2027</span>年01月15日 星期五 <span class="token number">16</span>时00分00秒</pre></td></tr></table></figure><h3 id="新-api"><a class="markdownIt-Anchor" href="#新-api">#</a> 新 API</h3><p>从 JDK8 开始，Java 提供了一套新的日期与时间的 API，主要包括：</p><ul><li>本地日期时间： <code>LocalDateTime</code> 、 <code>LocalDate</code> 、 <code>LocalTime</code></li><li>带时区的时间： <code>ZoneDateTime</code></li><li>瞬时： <code>Instant</code></li><li>时区： <code>ZoneID</code> 、 <code>ZoneOffset</code></li><li>时间间隔： <code>Duration</code></li></ul><p>新版 API 严格区分了时刻、本地日期、本地时间和带时区的日期，并且简化了日期和时间的运算。<br>新版 API 修正了不合理的常量设计，如：month 中 1~12 表示 1-12 月，week 中 1~7 表示周一到周日<br>新版 API 的类型几乎全是和 String 类似的不变类型</p><h4 id="本地日期时间"><a class="markdownIt-Anchor" href="#本地日期时间">#</a> 本地日期时间</h4><p><code>LocalDateTime</code> 、 <code>LocalTime</code> 和 <code>LocalDate</code> 是用于处理本地时间和日期的类。</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">LocalDateTime</span> dt <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前日期和时间</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token class-name">LocalDate</span> d <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">toLocalDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 转换到当前日期</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">LocalTime</span> t <span class="token operator">=</span> dt<span class="token punctuation">.</span><span class="token function">toLocalTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 转换到当前时间</span></pre></td></tr></table></figure><p>一些常用的方法如下：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>now()/now(ZoneId zone)</code></td><td>静态方法，根据当前时间 / 指定时区创建对象</td></tr><tr><td><code>of(xx,xx,xx,xx,xx,xxx)</code></td><td>静态方法，根据指定日期 / 时间创建对象</td></tr><tr><td><code>getDayOfYear()</code></td><td>获得年份天数（1-366）</td></tr><tr><td><code>getDayOfMonth()</code></td><td>获得月份天数（1-31）</td></tr><tr><td><code>getDayOfWeek()</code></td><td>获得星期，返回 <code>DayOfWeek</code> 枚举值</td></tr><tr><td><code>getMonth()</code></td><td>获得月份，返回 <code>Month</code> 枚举值</td></tr><tr><td><code>getMonthValue()</code></td><td>获得月份（1-12）</td></tr><tr><td><code>getYear</code></td><td>获得年份</td></tr><tr><td><code>getHours()</code></td><td>获得小时</td></tr><tr><td><code>getMinute()</code></td><td>获得分钟</td></tr><tr><td><code>getSecond()</code></td><td>获得秒</td></tr><tr><td><code>isBefore()/isAfter()</code></td><td>判断两个时间对象先后</td></tr><tr><td><code>isLeapYear()</code></td><td>判断是否为闰年</td></tr><tr><td><code>format(DateTimeFormatter t)</code></td><td>格式化本地日期 / 时间，返回字符串</td></tr><tr><td><code>parse(CharSequence text)</code></td><td>将指定格式字符串解析为日期 / 时间</td></tr></tbody></table><ul><li><code>withXxx</code> 方法用于把日期时间对象设置为指定值；</li><li><code>plusXxx</code> 方法用于日期时间对象的加法运输；</li><li><code>minusXxx</code> 方法用于日期时间对象的减法运输。</li></ul><p>与旧 API 不同，新 API 的本地日期和时间总是默认严格按照 ISO-8601 的日期时间格式进行的打印。进行格式化时，字符串按同样的标准也可以进行格式化。</p><h4 id="instant"><a class="markdownIt-Anchor" href="#instant">#</a> Instant</h4><p><code>Instant</code> ：指时间线上的一个瞬时点，可以被用来记录应用程序中事件的时间戳。</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>now()</code></td><td>静态方法，返回默认 UTC 时区的 <code>Instant</code> 对象</td></tr><tr><td><code>ofEpochMilli(long epochMilli)</code></td><td>静态方法，返回加上指定时间戳的 <code>Instant</code> 对象</td></tr><tr><td><code>atOffset(ZoneOffset offset)</code></td><td>结合即时的偏移来创建一个 <code>OffsetDateTime</code></td></tr><tr><td><code>toEpochMilli()</code></td><td>返回时间戳</td></tr></tbody></table><h4 id="格式化-2"><a class="markdownIt-Anchor" href="#格式化-2">#</a> 格式化</h4><p>新 API 中提供了 <code>DateTimeFormatter</code> 类用作时间日期的格式化：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>ofPattern(String pattern)</code></td><td>静态方法，返回一个指定字符串格式的 <code>DateTimeFormatter</code></td></tr><tr><td><code>format(TemporalAccessor t)</code></td><td>格式化一个日期 / 时间，返回字符串</td></tr><tr><td><code>parse(CharSequence text)</code></td><td>将指定格式的字符串序列解析为一个日期 / 时间</td></tr></tbody></table><h4 id="其他时间-api"><a class="markdownIt-Anchor" href="#其他时间-api">#</a> 其他时间 API</h4><ul><li><code>ZoneID/ZonedDateTime</code><ul><li><code>ZoneID</code> 类中包含了所有的时区信息</li><li><code>ZonedDateTime</code> 是一个在 ISO-8601 日历系统时区的日期时间</li></ul></li><li><code>Period/Duration</code><ul><li><code>Period</code> ：日期间隔，用来计算两个日期的间隔</li><li><code>Duration</code> ：持续时间，用于计算两个时间间隔</li></ul></li></ul><p>处理日期和时间时，尽量使用新的 <code>java.time</code> 包；<br>在数据库中存储时间戳时，尽量使用 <code>long</code> 型时间戳，它具有省空间、效率高、不依赖数据库的优点。</p><h2 id="系统相关类"><a class="markdownIt-Anchor" href="#系统相关类">#</a> 系统相关类</h2><h3 id="system"><a class="markdownIt-Anchor" href="#system">#</a> System</h3><p><code>System</code> 类代表系统，系统级的很多属性和方法都放在该类内部。<br><code>System</code> 类的构造区被 <code>private</code> 修饰，无法创建该类的对象，但是其内部的成员变量和方法都是静态的。</p><ul><li><p>成员变量<br><code>System</code> 类内部包含 <code>in</code> 、 <code>out</code> 、 <code>err</code> 三个成员变量，分别代表标准输入流、标准输出流和标准错误输出流</p><figure class="highlight java"><figcaption data-lang="java"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token class-name">Scanner</span> sc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello Java!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></li><li><p>成员方法</p><ul><li><p><code>native long currentTimeMillis()</code> ：返回当前时间戳</p></li><li><p><code>void exit(int status)</code> ：退出程序， <code>status</code> 为 0 代表正常退出</p></li><li><p><code>void gc()</code> ：请求系统进行垃圾回收，具体执行情况由系统实现</p></li><li><p><code>String getProperty(String key)</code> ：获得系统中属性对应的值</p><table><thead><tr><th>属性名（key）</th><th>属性说明</th></tr></thead><tbody><tr><td><code>java.version</code></td><td>Java 运行时环境版本</td></tr><tr><td><code>java.home</code></td><td>Java 安装目录</td></tr><tr><td><code>os.name</code></td><td>操作系统名称</td></tr><tr><td><code>os.version</code></td><td>操作系统版本</td></tr><tr><td><code>user.name</code></td><td>用户账号名</td></tr><tr><td><code>user.home</code></td><td>用户主目录</td></tr><tr><td><code>user.dir</code></td><td>用户当前工作目录</td></tr></tbody></table></li></ul></li></ul><h3 id="runtime"><a class="markdownIt-Anchor" href="#runtime">#</a> Runtime</h3><p>每一个 Java 程序都有一个 <code>Runtime</code> 类实例，使运行程序与其运行环境相连接，常见方法如下：</p><ul><li><code>static Runtime getRuntime()</code> ：返回当前 Java 应用程序相关的运行时对象，应用程序不能创建自己的 Runtime 实例。</li><li><code>long totalMemory()</code> ：返回 JVM 中初始化时内存总量，取决于主机环境，一般默认为物理机的 1/64。</li><li><code>long maxMemory()</code> ：返回 JVM 最大程度能使用的内存总量，一般默认为物理机的 1/4。</li><li><code>long freeMemory()</code> ：返回 JVM 的空闲内存量，调用 gc 方法可能使其增大。</li><li><code>exec(String command)</code> ：在单独的进程中执行指定的字符串命令。</li><li><code>exec(String[] cmdarray)</code> ：在单独的进程中执行指定的命令和命令参数。</li><li><code>load(String filename)</code> ：加载作为动态库的指定文件名。</li><li><code>loadLibrary(String libname)</code> ：加载具有指定库名的动态库。</li></ul><div class="tags"><a href="/tags/Java/" rel="tag"><i class="ic i-tag"></i> Java</a> <a href="/tags/Java%E5%AD%A6%E4%B9%A0/" rel="tag"><i class="ic i-tag"></i> Java学习</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-05-27 15:30:08" itemprop="dateModified" datetime="2023-05-27T15:30:08+08:00">2023-05-27</time> </span><span id="posts/dfd7/" class="item leancloud_visitors" data-flag-title="常用类库" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span>此文章已被阅读次数: </span><span id="twikoo_visitors">正在加载...</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Umi <i class="ic i-at"><em>@</em></i>乌弥的小屋</li><li class="link"><strong>本文链接：</strong> <a href="https://www.umi.homes/posts/dfd7/" title="常用类库">https://www.umi.homes/posts/dfd7/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/posts/253b/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;68295827_p0.167m0jnbfs00.webp" title="继承与多态"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> Java 基础</span><h3>继承与多态</h3></a></div><div class="item right"><a href="/posts/d486/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;54090142_p0.6d6t2x7jwhw0.webp" title="泛型与集合"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> Java 基础</span><h3>泛型与集合</h3></a></div></div><div class="wrap"><div id="tcomments"></div></div><script src="https://cdn.staticfile.org/twikoo/1.6.9/twikoo.all.min.js"></script><script data-pjax>setTimeout(function(){twikoo.init({envId:"https://api.twikoo.umi.homes",el:"#tcomments"})},1e3)</script></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E4%B8%8E%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">枚举与注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE"><span class="toc-number">1.1.</span> <span class="toc-text">枚举</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%9A%84%E7%89%B9%E6%80%A7"><span class="toc-number">1.1.1.</span> <span class="toc-text">枚举的特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.2.</span> <span class="toc-text">枚举的方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.2.</span> <span class="toc-text">注解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.1.</span> <span class="toc-text">注解的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.2.2.</span> <span class="toc-text">常见注解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.2.3.</span> <span class="toc-text">自定义注解</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B0%E5%BD%95"><span class="toc-number">1.3.</span> <span class="toc-text">记录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.3.1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">1.3.2.</span> <span class="toc-text">说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E4%B8%8E%E8%BF%90%E7%AE%97"><span class="toc-number">2.</span> <span class="toc-text">包装类与运算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB"><span class="toc-number">2.1.</span> <span class="toc-text">包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A3%85%E7%AE%B1%E4%B8%8E%E6%8B%86%E7%AE%B1"><span class="toc-number">2.1.1.</span> <span class="toc-text">装箱与拆箱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.1.2.</span> <span class="toc-text">类型转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%85%E8%A3%85%E7%B1%BB%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.1.3.</span> <span class="toc-text">包装类的使用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6%E8%BF%90%E7%AE%97"><span class="toc-number">2.2.</span> <span class="toc-text">数学运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#math"><span class="toc-number">2.2.1.</span> <span class="toc-text">Math</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#biginteger-%E4%B8%8E-bigdecimal"><span class="toc-number">2.2.2.</span> <span class="toc-text">BigInteger 与 BigDecimal</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4"><span class="toc-number">3.</span> <span class="toc-text">日期和时间</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A7-api"><span class="toc-number">3.1.</span> <span class="toc-text">旧 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#date"><span class="toc-number">3.1.1.</span> <span class="toc-text">Date</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#calendar"><span class="toc-number">3.1.2.</span> <span class="toc-text">Calendar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">3.1.3.</span> <span class="toc-text">格式化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0-api"><span class="toc-number">3.2.</span> <span class="toc-text">新 API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="toc-number">3.2.1.</span> <span class="toc-text">本地日期时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#instant"><span class="toc-number">3.2.2.</span> <span class="toc-text">Instant</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96-2"><span class="toc-number">3.2.3.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%97%B6%E9%97%B4-api"><span class="toc-number">3.2.4.</span> <span class="toc-text">其他时间 API</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%9B%B8%E5%85%B3%E7%B1%BB"><span class="toc-number">4.</span> <span class="toc-text">系统相关类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#system"><span class="toc-number">4.1.</span> <span class="toc-text">System</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#runtime"><span class="toc-number">4.2.</span> <span class="toc-text">Runtime</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/posts/f337/" rel="bookmark" title="Java入门知识">Java入门知识</a></li><li><a href="/posts/8b5a/" rel="bookmark" title="数组与String">数组与String</a></li><li><a href="/posts/9852/" rel="bookmark" title="面向对象">面向对象</a></li><li><a href="/posts/253b/" rel="bookmark" title="继承与多态">继承与多态</a></li><li class="active"><a href="/posts/dfd7/" rel="bookmark" title="常用类库">常用类库</a></li><li><a href="/posts/d486/" rel="bookmark" title="泛型与集合">泛型与集合</a></li><li><a href="/posts/4cdb/" rel="bookmark" title="异常处理与多线程">异常处理与多线程</a></li><li><a href="/posts/564/" rel="bookmark" title="IO流与网络编程">IO流与网络编程</a></li><li><a href="/posts/3132/" rel="bookmark" title="反射和其他">反射和其他</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Umi" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Umi</p><div class="description" itemprop="description">乌弥的个人博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">32</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">8</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">16</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3VtaXRzdXJ1bWk=" title="https:&#x2F;&#x2F;github.com&#x2F;umitsurumi"><i class="ic i-github"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnlvdXJuYW1lQG1haWwuY29t" title="mailto:yourname@mail.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-magic"></i>链接</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/favorites/" rel="section"><i class="ic i-star"></i>收藏</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/posts/253b/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/posts/d486/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Umi @ Umi's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">287k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">4:21</span></div><div class="icp"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://icp.gov.moe/?keyword=20221331">萌ICP备20221331</a></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"posts/dfd7/",favicon:{show:"（●´3｀●）复活成功",hide:"(´Д｀)浏览器崩溃啦"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!1,copy_tex:!0,katex:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, theme: 'forest' });</script></body></html><!-- rebuild by hrmmi -->