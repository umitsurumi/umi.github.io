<!-- build time:Sun May 14 2023 10:01:33 GMT+0000 (Coordinated Universal Time) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="乌弥的小屋" href="https://www.umi.homes/rss.xml"><link rel="alternate" type="application/atom+xml" title="乌弥的小屋" href="https://www.umi.homes/atom.xml"><link rel="alternate" type="application/json" title="乌弥的小屋" href="https://www.umi.homes/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="前端学习,JavaScript"><link rel="canonical" href="https://www.umi.homes/posts/fba5/"><title>JavaScript 原始类型与引用类型 - 前端基础 - 编程学习 | Umi's Blog = 乌弥的小屋 = 等待和希望，人类的智慧就包含在这两个词中</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">JavaScript 原始类型与引用类型</h1><div class="meta"><span class="item" title="创建时间：2022-11-02 16:10:35"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2022-11-02T16:10:35+08:00">2022-11-02</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>23k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>21 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Umi's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="https://cdn.staticaly.com/gh/umitsurumi/image-hosting@master/cover/17923299_p0副本.411yfmkhq3i0.webp"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 24 150 28" preserveaspectratio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/coding/" itemprop="item" rel="index" title="分类于 编程学习"><span itemprop="name">编程学习</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/coding/front-end-basis/" itemprop="item" rel="index" title="分类于 前端基础"><span itemprop="name">前端基础</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.umi.homes/posts/fba5/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Umi"><meta itemprop="description" content="等待和希望，人类的智慧就包含在这两个词中, 乌弥的个人博客"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="乌弥的小屋"></span><div class="body md" itemprop="articleBody"><h2 id="原始类型方法"><a class="markdownIt-Anchor" href="#原始类型方法">#</a> 原始类型方法</h2><p>JavaScript 中的数据类型一共有 8 种，除了 <code>object</code> 外， <code>string</code> ， <code>number</code> ， <code>bigint</code> ， <code>boolean</code> ， <code>symbol</code> ， <code>null</code> 和 <code>undefined</code> 这 7 种数据类型全都被称为原始类型。<br>但是 JavaScript 允许我们像使用对象一样操作它们，实现方法如下：</p><ol><li>原始类型仍然是原始的，提供单个的值。</li><li>当访问原始类型的方法和属性时，“对象包装器” 会创建一个特殊对象；</li><li>“对象包装器” 在被使用后即销毁。</li></ol><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span> <span class="token comment">//str 是一个原始值</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 当访问 str 属性和方法时，对象包装器创建一个包含字符串字面量的特殊对象</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 调用可用的方法，如 toUpperCase ()</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 返回一个值后，特殊对象销毁</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//HELLO</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 构造器 String、Number、Boolean 应仅供内部使用</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//new 关键字，表示新建了一个对象</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 表示将一个值转换为另一个原始类型值</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span></pre></td></tr><tr><td data-num="14"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//number</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//null 和 undefined 没有任何方法</span></pre></td></tr></table></figure><h3 id="number"><a class="markdownIt-Anchor" href="#number">#</a> number</h3><p>在 JavaScript 中有两种类型，一种是 <code>number</code> ，以 64 位格式的 IEEE-754 存储，即双精度浮点型。<br>另一种是 <code>bigint</code> ，用于表示任意长度的整数，在某些特殊的场合会用到它。<br>这里只讨论 <code>number</code> 的情况。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 对于较大数字的编写</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> billion_1 <span class="token operator">=</span> <span class="token number">1000000000</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 下划线在这里充当了语法糖，让数字有更强的可读性</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> billion_2 <span class="token operator">=</span> <span class="token number">1_000_000_000</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//e 把数字乘以后面给定数量的 0 数字</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">let</span> billion_3 <span class="token operator">=</span> <span class="token number">1e9</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//0x、0b、0o 前缀分别指定十六进制、二进制和八进制的数字</span></pre></td></tr><tr><td data-num="9"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">0xf</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//15</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">0b111111</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//63</span></pre></td></tr><tr><td data-num="11"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span><span class="token number">0o12</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//10</span></pre></td></tr></table></figure><p>数字类型常用的属性和方法有以下这些：</p><h4 id="numtostringbase"><a class="markdownIt-Anchor" href="#numtostringbase">#</a> num.toString(base)</h4><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//num.toString (base)，返回给定 base 进制中 num 的字符串表示</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//f</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//15</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 如果用一个数字直接调用，为避免小数点部分引起错误应该这样使用</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">123456</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1e240</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">123456</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1e240</span></pre></td></tr></table></figure><h4 id="数字类型的判断"><a class="markdownIt-Anchor" href="#数字类型的判断">#</a> 数字类型的判断</h4><p><code>Infinity</code> 和 <code>NaN</code> 虽然感觉上并不是数字，但是它们确实是 <code>number</code> 类型，这里也可以使用数字类型的方法来检测它们</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//number</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//number</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//isNaN (value) 会将 value 转换为数字，任何判断它是否为 NaN</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isNaN</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false，Infinity 是一个特殊的数字</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//NaN 的特殊之处在于，它不和任何东西相等，包括它自身</span></pre></td></tr><tr><td data-num="8"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">NaN</span> <span class="token operator">==</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 类似的，还有一个函数 isFinite (value)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//value 的值如果是常规数字，而不是 Infinity 或者 NaN，则返回 true</span></pre></td></tr><tr><td data-num="12"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></pre></td></tr><tr><td data-num="13"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr><tr><td data-num="14"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">"23"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true，字符串 "23" 被转换为了数字 23</span></pre></td></tr><tr><td data-num="15"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isFinite</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true，空字符串 "" 被转换为了数字 0</span></pre></td></tr></table></figure><h4 id="parseint-和-parsefloat"><a class="markdownIt-Anchor" href="#parseint-和-parsefloat">#</a> parseInt 和 parseFloat</h4><p>使用 <code>+</code> 或者 <code>Number()</code> 来进行的数字转换是严格的，如果一个值不完全是数字，那么最终会得到 <code>NaN</code> 的结果。<br><code>parseInt</code> 和 <code>parseFloat</code> 方法可从字符串中 “读取” 数字，直到无法读取为止， <code>parseInt</code> 会返回一个整数，而 <code>parseFloat</code> 则返回一个浮点数。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> marginBottom <span class="token operator">=</span> <span class="token string">"12.5rem"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span>marginBottom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//12，只有整数部分被返回了</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>marginBottom<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//12.5，返回了一个浮点数</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//parseInt (str, radix)，第二个可选参数指定了解析整数的基数</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"ff"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//NaN，因为默认为十进制，没有数字解析</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">"ff"</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//255，按十六进制进行了解析</span></pre></td></tr></table></figure><h4 id="math-内建对象"><a class="markdownIt-Anchor" href="#math-内建对象">#</a> Math 内建对象</h4><p><code>Math</code> 对象为数学计算提供了辅助的属性和方法。<br>因为 <code>Math</code> 对象的计算上使用了 JavaScript 引擎中更高效的实现和处理器指令，所以使用它提供的计算比直接在 JavaScript 中实现要更快。</p><details class="info"><summary>对象提供的属性</summary><div><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>Math.E</td><td>自然对数的基数 e 的值</td></tr><tr><td>Math.LN2</td><td>2 为底的自然对数</td></tr><tr><td>Math.LN10</td><td>10 为底的自然对数</td></tr><tr><td>Math.LOG2E</td><td>以 2 为底 e 的对数</td></tr><tr><td>Math.LOG10E</td><td>以 10 为底 e 的对数</td></tr><tr><td>Math.PI</td><td>π 的值</td></tr><tr><td>Math.SQRT1_2</td><td>1/2 的平方根</td></tr><tr><td>Math.SQRT2</td><td>2 的平方根</td></tr></tbody></table></div></details><p><code>Math</code> 对象也提供了<span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvemgtQ04vZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWF0aA==">包括三角函数等在内的众多函数</span>，下面只列出常用的几种：</p><div class="tab" data-id="MathMethodTabs" data-title="随机数方法"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//Math.random ()，返回一个 [0,1) 区间内的随机数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></div><div class="tab" data-id="MathMethodTabs" data-title="舍入方法"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//Math.floor、Math.ceil、Math.round、Math.trunc，这几个是 Math 对数字进行舍入操作的方法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">3.5</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1.4</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向下舍入，num1 变为 3，num2 变为 - 2</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向上舍入，num1 变为 4，num2 变为 - 1</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 向最近整数舍入，即四舍五入</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除小数点后所有内容，无舍入</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 如果希望舍入小数到某位，应使用 toFixed (n)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 随机返回一个 [0,1) 区间的两位小数</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">//toFixed (n) 方法返回的是一个字符串，并且当小数部分较短时，会在后面添加 0</span></pre></td></tr><tr><td data-num="13"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2.00</span></pre></td></tr><tr><td data-num="14"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//string</span></pre></td></tr></table></figure></div><div class="tab" data-id="MathMethodTabs" data-title="最大最小和绝对值"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//Math.max (a, b, c...) 返回任意数量参数中的最大值</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//30</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//Math.min (a, b, c...) 返回任意数量参数中的最小值</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//-5</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//Math.abs ()，返回数字的绝对值</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">abd</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//5</span></pre></td></tr></table></figure></div><h3 id="string"><a class="markdownIt-Anchor" href="#string">#</a> string</h3><p>在 JavaScript 中，文本数字以字符串形式存储，单个字符没有单独的类型。<br>字符串内部格式始终是 UTF-16，<strong>不依赖于页面编码</strong>。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 字符串可用使用单引号、双引号和反引号包裹</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> single <span class="token operator">=</span> <span class="token string">"single-quoted"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> double <span class="token operator">=</span> <span class="token string">"double-quoted"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> backticks <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">backticks</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 单引号和双引号几乎没有差别，反引号更通用</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 反引号允许跨行</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">lists:</span></span></pre></td></tr><tr><td data-num="9"></td><td><pre>  * item1</pre></td></tr><tr><td data-num="10"></td><td><pre>  * item2</pre></td></tr><tr><td data-num="11"></td><td><pre>  * item3</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token template-punctuation string">`</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 反引号允许 $&#123;...&#125; 将表达式嵌入字符串中</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 结束是 3，而不是 1+2 字符串</span></pre></td></tr></table></figure><p>对一些特殊字符可用转义字符 <code>\</code> 来使用，如 <code>\n</code> 代表换行。<br>在进行字符串长度统计时，转义字符 <code>\</code> 不计入长度。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"I'm here"</span><span class="token punctuation">;</span> <span class="token comment">// 如果不用转义字符，多一个单引号则会报错</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//I'm here</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//8</span></pre></td></tr></table></figure><h4 id="访问字符"><a class="markdownIt-Anchor" href="#访问字符">#</a> 访问字符</h4><p>JavaScript 中获取 <code>pos</code> 位置的字符，可用使用 <code>[pos]</code> 或者 <code>str.charAt(pos)</code> 的方法</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//pos 位置从 0 开始</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//H</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//H</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//[pos] 是更现代的方法，str.charAt () 是因为历史原因保留</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 未找到返回 undefined</span></pre></td></tr><tr><td data-num="8"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 未找到返回空字符串 ''</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 使用 for...of 可用遍历字符</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//H,e,l,l,o</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="改变大小写"><a class="markdownIt-Anchor" href="#改变大小写">#</a> 改变大小写</h4><p><code>toUpperCase</code> 和 <code>toLowerCase</code> 方法可以改变字符串大小写</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//HELLO</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//hello</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 在 JavaScript 中，字符串本身是不可变的</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">let</span> str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"E"</span><span class="token punctuation">;</span> <span class="token comment">//error</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 解决的办法是销毁旧的字符串创造一个新的</span></pre></td></tr></table></figure><h4 id="查找子串"><a class="markdownIt-Anchor" href="#查找子串">#</a> 查找子串</h4><p>从字符串中查找子串有很多方法：</p><div class="tab" data-id="StringSearchMethodTabs" data-title="indexOf"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//str.indexOf (substr, pos)，从给定位置 pos 开始查找子串 substr</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">World</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//6，从第 6 个 pos 开始被找到</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//-1，没有匹配的子串</span></pre></td></tr></table></figure><p>类似的有 <code>str.lastIndexOf(substr, pos)</code> ，它从字符串末尾找到开头</p></div><div class="tab" data-id="StringSearchMethodTabs" data-title="includes"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 如果只需要检测匹配而不需要位置，可以使用 includes 方法</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//str.includes (substr, pos)，从指定位置开始查找子串，存在返回 true，否则返回 false</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">World</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true，查找到子串</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hi</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false，没有匹配的子串</span></pre></td></tr></table></figure></div><div class="tab" data-id="StringSearchMethodTabs" data-title="startsWith 和 endsWith"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 正如其名，startsWith 和 endsWith 检查字符串是否以 substr 开始和结束</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">JavaScript</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"Java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"Script"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></div><h4 id="获取子串"><a class="markdownIt-Anchor" href="#获取子串">#</a> 获取子串</h4><p>JavaScript 中获取子串有三种方法：</p><div class="tab" data-id="SubstrGetMethodTabs" data-title="slice"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//str.slice (start [, end])，返回字符串 [start, end) 的部分</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//World!，没有第二个参数默认到字符串结尾</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//rld，两值为负数意味着从字符串结尾计算</span></pre></td></tr></table></figure></div><div class="tab" data-id="SubstrGetMethodTabs" data-title="substring"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//str.substring (start [, end])，返回字符串 [start, end) 的部分</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 使用方法和 slice 几乎相同，但是允许 start 大于 end</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//''，空字符串</span></pre></td></tr></table></figure><p><code>substring</code> 方法不支持负数，它们被视为 0。</p></div><div class="tab" data-id="SubstrGetMethodTabs" data-title="substr"><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//str.substr (start [, length])，返回字符串从 start 开始给定长度</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello World!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Hello</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//World，负数表示从结尾开始计算</span></pre></td></tr></table></figure><p><code>substr</code> 方法属于历史原因遗留下的，在非浏览器环境中可能不支持。</p></div><h4 id="比较字符串"><a class="markdownIt-Anchor" href="#比较字符串">#</a> 比较字符串</h4><p>字符串内部采用 UTF-16 编码，在进行比较时：</p><ol><li>字符串按字母逐字比较。</li><li>比较时字母被转换为对应数字代码。<br>因为在编码中，先是大写字母，再是小写字母，所以进行比较时，小写字母总是大于大写字母的。</li></ol><h2 id="集合引用类型"><a class="markdownIt-Anchor" href="#集合引用类型">#</a> 集合引用类型</h2><p>对象允许存储键值对，但是当需要有序集合时，因为对象不能提供管理元素顺序的方法，所以就不太适应这种情况了。</p><h3 id="数组"><a class="markdownIt-Anchor" href="#数组">#</a> 数组</h3><h4 id="数组基础"><a class="markdownIt-Anchor" href="#数组基础">#</a> 数组基础</h4><p>数组（Array）在这种情况下用于存储有序的集合。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 通过构造函数创建</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 声明一个空数组</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//Array () 可以接受多个数组元素，或者接受一个数字作为初始数组长度</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">let</span> arr3 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">let</span> arr4 <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//console.log (arr4.length)，结果为 4</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 数组中可以存储任何类型的元素</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">let</span> arr5 <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token string">"elem"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token number">5</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"Hi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">// 数组下标从 0 开始，到 length-1 结束。</span></pre></td></tr><tr><td data-num="20"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//elem0</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 数组的 length 属性在添加元素时会自动更新，实际上它等于数组最大索引号 + 1</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">let</span> arr6 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>arr6<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"arrElem"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr6<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//11</span></pre></td></tr><tr><td data-num="26"></td><td><pre>arr6<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment">//length 属性是可读写的</span></pre></td></tr><tr><td data-num="27"></td><td><pre>arr5<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 当 length 减少时，数组会被截断，因此 arr.length = 0 可以用于清空一个数组</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 数组是一种特殊的对象，arr [0] 来自 obj [key] 的语法</span></pre></td></tr><tr><td data-num="30"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> arr4<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object</span></pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr3<span class="token punctuation">;</span> <span class="token comment">// 与对象相同，是通过引用复制</span></pre></td></tr><tr><td data-num="32"></td><td><pre>newArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"newElem"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr3<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//newElem</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">// 因此用使用对象的方法来使用数组并不会引起错误</span></pre></td></tr><tr><td data-num="35"></td><td><pre>arr4<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">"Array4"</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>但是，JavaScript 针对数组存在内部优化，比如尽可能一个接一个的把数组元素存储在一片连续的内存空间中，让数组作为一个<strong>有序集合</strong>来使用。如果试图用对象的方法去使用它，JavaScript 就会取消这些对数组的优化，转而把它作为普通对象对待。<br>对数组应该始终视为<strong>有序集合</strong>的特殊结构来使用。</p><h4 id="数组方法"><a class="markdownIt-Anchor" href="#数组方法">#</a> 数组方法</h4><p>队列（queue）和栈（stack）是最常见的使用数组的方法之一。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 队列是一种先进先出 (FIFO) 的数据结构，栈是一种后进先出 (LIFO) 的数据结构</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> newQueue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"qElem0"</span><span class="token punctuation">,</span> <span class="token string">"qElem1"</span><span class="token punctuation">,</span> <span class="token string">"qElem2"</span><span class="token punctuation">,</span> <span class="token string">"qElem3"</span><span class="token punctuation">,</span> <span class="token string">"qElem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> newStack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"sElem0"</span><span class="token punctuation">,</span> <span class="token string">"sElem1"</span><span class="token punctuation">,</span> <span class="token string">"sElem2"</span><span class="token punctuation">,</span> <span class="token string">"sElem3"</span><span class="token punctuation">,</span> <span class="token string">"sElem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//push 方法会在数组末尾添加一个元素，对应入队和入栈操作</span></pre></td></tr><tr><td data-num="6"></td><td><pre>newQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"newQElem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>newStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">"newSElem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQueue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['qElem0', 'qElem1', 'qElem2', 'qElem3', 'qElem4', 'newQElem']</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">//shift 方法取出数组第一个元素，并将其他元素前移一位，对应队列的出队</span></pre></td></tr><tr><td data-num="11"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQueue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回出队元素 'qElem0'</span></pre></td></tr><tr><td data-num="12"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQueue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['qElem1', 'qElem2', 'qElem3', 'qElem4', 'newQElem']</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">//pop 方法取出并返回数组最后一个元素，对应栈的出栈</span></pre></td></tr><tr><td data-num="15"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回出队元素 'newSElem'</span></pre></td></tr><tr><td data-num="16"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStack<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['sElem0', 'sElem1', 'sElem2', 'sElem3', 'sElem4']</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">//unshift 方法还可以在数组首端添加元素，构造双端队列</span></pre></td></tr><tr><td data-num="19"></td><td><pre>newQueue<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token string">"dQElem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQueue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['dQElem', 'qElem1', 'qElem2', 'qElem3', 'qElem4', 'newQElem']</span></pre></td></tr></table></figure><p>从性能上来说，数组尾端的 <code>pop/push</code> 方法较快，数组首端的 <code>unshift/shift</code> 方法较慢。<br>因为对尾端的操作，如 <code>pop</code> 方法，只需要读取尾端元素，并清理索引，截短数组就可以了。<br>而对应首端的操作，如 <code>shift</code> 方法，不仅仅需要读取首端的元素，还需要把剩下的所有元素前移，更改它们的索引。数组里的元素越多，移动它们就要花越多的时间，也就意味着越多的内存操作。</p><h4 id="遍历数组"><a class="markdownIt-Anchor" href="#遍历数组">#</a> 遍历数组</h4><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="for 循环"><p>显而易见的，采用 <code>for</code> 循环可以遍历一个数组</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></div><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="数组的 for..of"><p>但是对于数组，还有专门的 <code>for..of</code> 方法用于获取元素值</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>for..of</code> 方法用于获取元素值，并不能获得当前元素的索引，但是在大部分场景下已经足够。</p></div><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="对象的 for..in"><p>数组是对象，因此对象的 <code>for..in</code> 循环也是可以的</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>因为 <code>for..in</code> 方法是适应于对象的，它不仅会遍历数字属性，还会遍历所有属性。<br>在处理<strong>类数组对象</strong>时， <code>for..in</code> 方法会把索引属性之外的其他属性也访问到，而这些额外的属性并不一定是我们期望获得的。<br>通常来说，不应该使用 <code>for..in</code> 来处理数组。</p></div><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="forEach 遍历"><p><code>forEach</code> 方法允许为每一个数组执行一个函数</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 箭头函数语法为 arr.forEach ((elem, index, array) => &#123;...&#125;)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure></div><h4 id="修改数组元素"><a class="markdownIt-Anchor" href="#修改数组元素">#</a> 修改数组元素</h4><div class="tab" data-id="ArrayChangeMethodTabs" data-title="splice 方法"><p><code>splice</code> 方法是一个强大的方法，它可以添加、删除和插入数组元素。<br>语法如下：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//arr.splice(start[, deleteCount, newElem1, newElem2, ..., newElemN])</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//splice 方法从 start 位置开始累计删除 deleteCount 个元素并将之后的新元素插入其中</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> deleteArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"newElem1"</span><span class="token punctuation">,</span> <span class="token string">"newElem2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['elem0', 'elem1', 'newElem1', 'newElem2']</span></pre></td></tr><tr><td data-num="6"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>deleteArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['elem2', 'elem3', 'elem4']，splice 方法返回被删除元素组成的数组</span></pre></td></tr></table></figure><p>索引值可以为负数，表示从数组尾端开始。</p></div><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="slice 方法"><p><code>slice</code> 方法较 <code>splice</code> 方法简单：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//arr.slice ([start], [end])，返回 [start, end) 区间内元素组成的新数组</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['elem1','elem2']</span></pre></td></tr></table></figure><p>同样， <code>slice</code> 方法中的 <code>start</code> 和 <code>end</code> 索引也都可以是负数。</p></div><div class="tab" data-id="ArrayTraversalMethodTabs" data-title="concat 方法"><p><code>concat</code> 方法同样会创建一个新数组</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//arr.concat(arg1, arg2, ...)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 它接受的参数可以是值，也可以是数组，如果是数组则其中的所有元素都会被复制</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> newArr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['elem0', 'elem1', 'elem2', 1, 2, 3]</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 通常只有数组中的元素会被复制，而其他对象会被作为整体复制</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">let</span> arrLike <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"lElem0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"lElem1"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">let</span> newArr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1, 2, 3, &#123;...&#125;]</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 当类数组对象有 [Symbol.isConcatSpreadable] 时，它才会被 concat 当作一个数组来处理</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">let</span> arrLikeConcat <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"lElem0"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"lElem1"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token keyword">let</span> newArr3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arrLikeConcat<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 'lElem0', 'lElem1']</span></pre></td></tr></table></figure></div><h4 id="检索数组元素"><a class="markdownIt-Anchor" href="#检索数组元素">#</a> 检索数组元素</h4><div class="tab" data-id="ArraySearchMethodTabs" data-title="indexOf 和 includes"><p><code>indexOf</code> 、 <code>lastIndexOf</code> 和 <code>includes</code> 方法与在字符串中的方法类似：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"elem0"</span><span class="token punctuation">,</span> <span class="token string">"elem1"</span><span class="token punctuation">,</span> <span class="token string">"elem2"</span><span class="token punctuation">,</span> <span class="token string">"elem3"</span><span class="token punctuation">,</span> <span class="token string">"elem4"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//arr.indexOf (item, from)，从索引 from 开始寻找 item，找到返回索引，否则返回 - 1</span></pre></td></tr><tr><td data-num="4"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"elem1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//arr.includes (item, from)，从索引 from 开始寻找 item，找到返回 true，否则返回 false</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"elem1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 类似的，arr.lastIndexOf () 方法是从数组末端开始查找</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回是 4，indexOf 则返回 1</span></pre></td></tr></table></figure><p>注意，在 <code>indexOf</code> 和 <code>includes</code> 中查找使用的是严格相等 <code>===</code> ，所以可以准确查找到布尔值而不是数字 1 或 0。</p></div><div class="tab" data-id="ArraySearchMethodTabs" data-title="find、findIndex 和 findLastIndex"><p><code>find</code> 方法用于查找对象数组的场合：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// arr.find(function(item, index, array))</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//item 是数组元素，往往是一个对象</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//index 是数组元素的索引</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//array 是数组本身</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 如果 function 返回值为 true，则返回 item 并停止迭代，如果为假值，则返回 undefined</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">let</span> objectArr <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Alex"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Bob"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">let</span> user <span class="token operator">=</span> objectArr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Alex</span></pre></td></tr></table></figure><p><code>findIndexOf</code> 和 <code>findLastIndexOf</code> 和 <code>find</code> 方法有一样的语法，只不过它们返回的是元素的索引而非元素本身，另外 <code>findLastIndexOf</code> 查找时是从右往左进行。</p></div><div class="tab" data-id="ArraySearchMethodTabs" data-title="filter 方法"><p><code>find</code> 方法返回搜索匹配到的第一个元素， <code>filter</code> 方法返回搜索匹配到的所有元素：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// arr.filter(function(item, index, array))</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//item 是数组元素，往往是一个对象</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//index 是数组元素的索引</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//array 是数组本身</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 如果 function 返回值为 true，则返回 item 并停止迭代，如果为假值，则返回 undefined</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">let</span> objectArr <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Alex"</span><span class="token punctuation">,</span> <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#123;</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token literal-property property">isAdmin</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">let</span> users <span class="token operator">=</span> objectArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item<span class="token punctuation">.</span>isAdmin <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true，返回值是匹配用户组成的数组</span></pre></td></tr></table></figure><p>因为数组是基于对象的，所以 <code>typeof</code> 操作符不能区分出数组和普通对象。<br>对于数组，有 <code>Array.isArray(value)</code> 方法用于区分 <code>value</code> 是一个数组还是对象：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></pre></td></tr></table></figure></div><h4 id="转换数组"><a class="markdownIt-Anchor" href="#转换数组">#</a> 转换数组</h4><div class="tab" data-id="ArrayTranslateMethodTabs" data-title="map 方法"><p><code>map</code> 方法对数组每个元素都调用对象，并返回结果数组</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//arr.map(function(item, index, array))</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> doubleArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[4, 10, 12, 18, 20]</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//forEach 方法与 map 方法类似，也可以对数组中的每一个元素执行函数，区别在于</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//forEach 方法没有返回值，而 map 方法创建一个新数组并返回结果数组</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 这种区别决定了它们的使用场景。MDN 中建议，当不需要返回新数组的时候，不应该使用 map 方法。</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//forEach 没有返回值</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined</span></pre></td></tr></table></figure></div><div class="tab" data-id="ArrayTranslateMethodTabs" data-title="sort 方法"><p><code>sort</code> 方法对数组进行原位 (in-place) 排序，原位的意思指在原数组内排序，而非生成新数组。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[10, 15, 23, 24, 3]，默认情况下数组元素被按照字符串排序</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 采用箭头函数编写比较函数，比较函数返回正值表示大于，返回负值表示小于</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[3, 10, 15, 23, 24]</span></pre></td></tr></table></figure></div><div class="tab" data-id="ArrayTranslateMethodTabs" data-title="reverse 方法"><p><code>reverse</code> 方法会颠倒一个数组中元素的顺序，它返回颠倒后的数组。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[23, 15, 3, 10, 24]</span></pre></td></tr></table></figure></div><div class="tab" data-id="ArrayTranslateMethodTabs" data-title="str.split 和 arr.join"><p><code>str.split</code> 方法用于处理字符串，它将字符串按照分隔符拆分为数组。<br><code>arr.join</code> 方法正好相反， 它会将数组通过分隔符连接成一个字符串。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用空格作为分隔符</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//['Hello', 'World']</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> newStr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用 + 作为连接符，新字符串，'Hello+World'</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 另外数组还有自己的 toString，它会把数组元素视为字符串并用逗号隔开返回</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,4,5</span></pre></td></tr></table></figure></div><div class="tab" data-id="ArrayTranslateMethodTabs" data-title="reduce 方法"><p><code>reduce</code> 方法应用于根据数组计算结果的场景：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// let value = arr.reduce(function(accumulator, item, index, array) &#123; ... &#125;, [initial])</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">//accumulator: 是上一次函数的调用结果，第一次等于 initial（如果有提供）</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">//item: 当前的数组元素</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//index: 当前数组元素的索引</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//array: 数组本身</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//initial: accumulator 初始值</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 假设有这么一个应用场景，需要对一个数组中的所有数字乘以二并返回其总和</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">let</span> result <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//30</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 如果没有指定 accumulator 的初始值，那么它会用第一个元素作为初始值，并从第二个数组元素开始计算</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">let</span> newResult <span class="token operator">=</span> <span class="token function">arr。reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> item</span><span class="token punctuation">)</span> <span class="token operator">=></span> sum <span class="token operator">+</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//29，初始值少乘了 2</span></pre></td></tr></table></figure><p><code>reduceRight</code> 方法与 <code>reduce</code> 方法功能相同，只是从右边往左遍历。</p></div><h4 id="thisarg"><a class="markdownIt-Anchor" href="#thisarg">#</a> thisArg</h4><p>大多数数组方法都支持 <code>thisArg</code> 这个参数（除了 <code>sort</code> ）。<br>以 <code>forEach</code> 方法举例，它的三种写法如下：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 箭头函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">/* … */</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 回调函数</span></pre></td></tr><tr><td data-num="7"></td><td><pre>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>callbackFn<span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 内联回调函数</span></pre></td></tr><tr><td data-num="10"></td><td><pre>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token comment">/* … */</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> thisArg<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>如果 <code>thisArg</code> 有值，那么每次当回调函数（callbackFn）被调用时， <code>this</code> 都会指向 <code>thisArg</code> 参数。如果省略了 <code>thisArg</code> ，那么 <code>this</code> 将指向全局对象。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> army <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">minAge</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">maxAge</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token function">canJoin</span><span class="token punctuation">(</span><span class="token parameter">user</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">return</span> user<span class="token punctuation">.</span>age <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>minAge <span class="token operator">&amp;&amp;</span> user<span class="token punctuation">.</span>age <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxAge<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 如果这里不加上 army (thisArg)，会因为 canJoin 方法中 this 指向问题导致出错</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 一个可以替代的写法是 users.filter (user => army.canJoin (user));</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">let</span> soldiers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>army<span class="token punctuation">.</span>canJoin<span class="token punctuation">,</span> army<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>soldiers<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//2</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>soldiers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//20</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>soldiers<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//23</span></pre></td></tr></table></figure><h3 id="可迭代对象"><a class="markdownIt-Anchor" href="#可迭代对象">#</a> 可迭代对象</h3><p>可迭代对象（iterable object）是数组的泛化，任何对象都可以被定制为可以在 <code>for..of</code> 循环中使用的对象。</p><h4 id="symboliterator"><a class="markdownIt-Anchor" href="#symboliterator">#</a> Symbol.iterator</h4><p>为了让一个对象可迭代，需要为它添加一个 <code>Symbol.iterator</code> 方法，一个专门用于使对象可迭代的内建 <code>Symbol</code> 。</p><ol><li>当 <code>for..of</code> 循环启动，它会先调用这个方法，如果没有找到则会报错</li><li><code>Symbol.iterator</code> 方法会返回一个迭代器 (iterator)，一个有 <code>next</code> 方法的对象</li><li><code>for..of</code> 方法在<strong>迭代器</strong>上运作，当需要取得下一个数值时，调用迭代器的 <code>next</code> 方法</li><li><code>next</code> 方法的返回结果格式必须为 <code>&#123;done: Boolean, value: any&#125;</code></li><li>当 <code>next</code> 返回值中 <code>done=true</code> 时，表示循环结束，否则继续进行迭代</li></ol><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 添加 Symbol.iterator，for..of 方法会首先调用这个方法</span></pre></td></tr><tr><td data-num="7"></td><td><pre>range<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token comment">// 方法返回一个迭代器对象，它具有 next 方法</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token comment">//for..of 方法之后在返回的迭代器对象上工作</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token literal-property property">current</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>from<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token literal-property property">last</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">//for..of 每一轮工作时调用 next 方法</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token comment">//next 方法返回值格式为 &#123;done: Boolean, value: any&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>current <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>last<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>current<span class="token operator">++</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>      <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token comment">// 现在这个对象可以通过 for..of 被迭代了</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num <span class="token keyword">of</span> range<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p><code>range</code> 对象并没有自己的 <code>next</code> 方法， <code>next</code> 方法在 <code>Symbol.iterator</code> 生成的迭代器对象上。</p><p>对于可迭代对象，可以显式调用其迭代器。比起 <code>for..of</code> 方法，这给予了我们更多控制权。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"Hello!"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> iterator <span class="token operator">=</span> str<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">let</span> result <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 一个接一个输出字符</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="可迭代与类数组"><a class="markdownIt-Anchor" href="#可迭代与类数组">#</a> 可迭代与类数组</h4><ul><li>可迭代（iterable）对象是指实现了 <code>Symbol.iterator</code> 方法的对象。</li><li>类数组（Array-like）对象是有索引和 <code>length</code> 属性的对象。</li></ul><div class="note info"><p>可迭代对象和类数组对象听上去差不多，但是它们之间并没有直接相关性。</p></div><p>例如，字符串是可迭代对象 (可以用 <code>for..of</code> 方法)，也是类数组对象 (具有数字索引和长度)。但是一个可迭代对象 (如上的 <code>range</code> 是可迭代的) 不一定是类数组对象 (没有数字索引和长度属性)，一个类数组对象也不一定是可迭代对象。<br>一般来说，可迭代对象和类数组对象也不是真正的数组，并不能使用数组的方法。如果想要使用数组来操作它们，需要先使用 <code>Array.from</code> 方法将它们转换为真正的数组。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"Hello"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"World"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//Array.from 方法接受一个可迭代对象或者类数组对象，然后根据它创建一个数组</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//(*)</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token function">alert</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//World（pop 方法有效）</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 完整写法为 Array.from (obj [, mapFn, thisArg])</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">//mapFn 允许提供一个映射函数，它会在对象中每一个元素被添加到数组前应用</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//thisArg 用于设置映射函数的 this 值</span></pre></td></tr></table></figure><h4 id="生成器的使用"><a class="markdownIt-Anchor" href="#生成器的使用">#</a> 生成器的使用</h4><p>生成器（generator）可以按需一个接一个返回多个值，常配合可迭代对象使用。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//generator 函数用 function * 声明</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 调用生成器函数，创建了一个生成器对象</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 此时只是返回了一个生成器对象，而生成器函数中的代码还没有运行</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 一个生成器对象具有 next 方法，它返回值为 &#123;done: Boolean, value: yield&lt;value>&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 当生成器函数执行时，遇到 yield 关键字，它会停止执行，函数作用域状态被保留</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 停止的生成器函数通过调用生成器对象的 next 方法返回结果，然后又继续执行</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">//yield 停止执行的生成器函数会处在 done: false 状态，而 return 停止则会处在 done: true 状态</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第一次调用，&#123;value: 1, done: false&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第二次调用，&#123;value: 2, done: false&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 第三次调用，&#123;value: 3, done: true&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 再次调用，因为函数已经结束执行，所以没有返回值，&#123;value: undefined, done: true&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 因为具有 next 方法，所以 generator 是可迭代的</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> generator<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回 1，2，因为第三次 done=true，所以不会返回值</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>现在，我们可以使用生成器来改造刚才的 <code>range</code> 对象：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token comment">// 是 [Symbol.iterator]: function*() 的简写</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>from<span class="token punctuation">;</span> value <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">;</span> value<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token keyword">yield</span> value<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 现在，range [Symbol.iterator]() 返回一个 generator 对象，</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 而这个 generator 对象具备 for..of 的要求：</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 它具备 next 方法，并且 next 方法返回值符合要求</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> range<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//1,2,3,4,5</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h4 id="生成器进阶"><a class="markdownIt-Anchor" href="#生成器进阶">#</a> 生成器进阶</h4><p>在常规函数中，要合并多个函数的结果，需要调用它们，储存它们的结果，然后在将它们合并到一起。<br>而在生成器中，可以使用 <code>yield*</code> 这个语法将一个生成器嵌入到另一个生成器中：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> i<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatePasswordCodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token comment">//0..9</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token comment">//A..Z</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token comment">//a..z</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><code>yield*</code> 指令将执行委托给另一个生成器， <code>yield* gen</code> 在生成器 <code>gen</code> 上进行迭代，并将产出（yield）的值透明地（transparently）转发到外部，好像这些值是外部的产出结果一样。<br>这种方式称为生成器组合（composition），它将一个生成器流插入到另一个生成器流中，并且不需要额外的内存来存储中间结果。</p><p>生成器更灵活的一点在于， <code>yield</code> 不仅可以向外返回结果，也可以将外部的值传到到生成器内部。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token keyword">let</span> ask1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"2 + 2 = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token function">alert</span><span class="token punctuation">(</span>ask1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//4</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">let</span> ask2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"3 * 3 = ?"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token function">alert</span><span class="token punctuation">(</span>ask2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 第一次调用，gen () 执行到第一个 yield 前停止</span></pre></td></tr><tr><td data-num="10"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//next 执行的返回值为 '2 + 2 = ?'</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 第二次调用，next (value) 中 value 的值被传递给第一个 yield</span></pre></td></tr><tr><td data-num="12"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//next 执行到第二个 yield 前，返回值为 '3 * 3 = ?'</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 第三次调用，此时生成器函数执行已结束，next (value) 的值传给第二个 yield</span></pre></td></tr><tr><td data-num="14"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true，已经完成执行</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//generator.return (value) 语法可以手动完成 generator 执行，并返回给定的 value</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>g<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token string">"foo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: 'foo', done: true&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;value: undefined, done: true&#125;</span></pre></td></tr></table></figure><h3 id="映射和集合"><a class="markdownIt-Anchor" href="#映射和集合">#</a> 映射和集合</h3><h4 id="映射map"><a class="markdownIt-Anchor" href="#映射map">#</a> 映射（Map）</h4><p>映射（Map）是一个带键（key）的数据项的集合。它的常用方法如下：</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>new Map()</code></td><td>创建一个 <code>map</code></td></tr><tr><td><code>map.set(key, value)</code></td><td>根据键存储值</td></tr><tr><td><code>map.get(key)</code></td><td>根据键返回值，如果键不存在，返回 <code>undefined</code></td></tr><tr><td><code>map.has(key)</code></td><td>如果键存在，返回 <code>true</code> ，否则返回 <code>false</code></td></tr><tr><td><code>map.delete(key)</code></td><td>删除指定键的值</td></tr><tr><td><code>map.clear()</code></td><td>清空 <code>map</code></td></tr><tr><td><code>map.size</code></td><td>返回当前元素个数</td></tr></tbody></table><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 与 object 不同，map 中 key 可以是任意类型，而不会被转为字符串</span></pre></td></tr><tr><td data-num="3"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"str1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 字符串 key</span></pre></td></tr><tr><td data-num="4"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"str2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数字 key</span></pre></td></tr><tr><td data-num="5"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">"str3"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 布尔值 key</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 甚至用对象作为 key 也是可以的</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">let</span> john <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>john<span class="token punctuation">,</span> john<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 对 map 来说，字符串 '1' 和数字 1 是有区别的</span></pre></td></tr><tr><td data-num="12"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//str2</span></pre></td></tr><tr><td data-num="13"></td><td><pre>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//str1</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 而对于 object，key 都会被转为字符串</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>obj<span class="token punctuation">[</span><span class="token string">"1"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"str1"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>obj<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"str2"</span><span class="token punctuation">;</span> <span class="token comment">// 数字 1 被转为字符串 '1'，最终覆盖了上一行</span></pre></td></tr></table></figure><h4 id="map-迭代"><a class="markdownIt-Anchor" href="#map-迭代">#</a> Map 迭代</h4><p>在 <code>map</code> 中使用循环还有以下三种方法：</p><ul><li><code>map.keys()</code> : 遍历并返回一个包含所有键的可迭代对象，</li><li><code>map.values()</code> : 遍历并返回一个包含所有值的可迭代对象，</li><li><code>map.entries()</code> : 遍历并返回一个包含所有实体 ( <code>[key,value]</code> ) 的可迭代对象</li></ul><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> fruitsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"peach"</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> fruit <span class="token keyword">of</span> fruitsMap<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fruit<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 默认方法为 map.entries ()</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> amount <span class="token keyword">of</span> fruitsMap<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//500, 350, 450</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">//map 有内建的 forEach 方法，与 array 相似</span></pre></td></tr><tr><td data-num="16"></td><td><pre>fruitsMap<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> map</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>key<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token comment">// 另外与普通对象不同，map 中的 key 是有序的，迭代时按照插入顺序返回</span></pre></td></tr></table></figure><h4 id="创建-map"><a class="markdownIt-Anchor" href="#创建-map">#</a> 创建 map</h4><p>当创建一个 <code>map</code> 后，可以传入待有键值对的数组或者其他可迭代对象来进行初始化：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 例如</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> fruitsMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"banana"</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"apple"</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"peach"</span><span class="token punctuation">,</span> <span class="token number">450</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 如果想要从已存在的普通对象来创建，可以使用内建的 Object.entries (obj) 方法</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">//Object.entries (obj) 方法按照 Map 所需格式返回键值对</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">let</span> newMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//Object.fromEntries () 方法正好相反，它从一个给定的键值对数组中创建对象</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">let</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span>fruitsMap<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h4 id="集合set"><a class="markdownIt-Anchor" href="#集合set">#</a> 集合（Set）</h4><p><code>Set</code> 是一个特殊的类型集合，它是值的集合，没有键，并且每个值只能出现一次。</p><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>new Set(iterable)</code></td><td>创建一个 <code>set</code> ，如果提供了一个可迭代对象，则会将其中的值复制到 <code>set</code> 中</td></tr><tr><td><code>set.add(value)</code></td><td>添加一个值，返回 <code>set</code> 本身</td></tr><tr><td><code>set.delete(value)</code></td><td>删除值，如果 <code>value</code> 存在则返回 <code>true</code> ，否则返回 <code>false</code></td></tr><tr><td><code>set.has(value)</code></td><td>如果 <code>value</code> 存在，返回 <code>true</code> ，否则返回 <code>false</code></td></tr><tr><td><code>set.clear()</code></td><td>清空 <code>set</code></td></tr><tr><td><code>set.size</code></td><td>返回当前元素个数</td></tr></tbody></table><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 利用 set 可以完成数组去重</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">let</span> newArr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[12, 1, 5, 35, 24]</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// Set 同样也是一个可迭代对象，它的三种方法与 Map 一样</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">//set.keys () 与 set.values ()，两种返回值相同，主要是为了兼容 Map</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//set.entries ()，返回 [value, value]，同样也是为了兼容 Map</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">//set.forEach ((value, value, set) => &#123;...&#125;)，这里两个 value 完全相同，也是为了兼容 Map</span></pre></td></tr></table></figure><h4 id="对象的遍历"><a class="markdownIt-Anchor" href="#对象的遍历">#</a> 对象的遍历</h4><p>和 <code>map</code> 与 <code>set</code> 相似，普通的对象存在 <code>Object.keys|values|entries</code> 方法，但是稍微有一些区别：</p><ol><li>映射调用方法是 <code>map.keys()</code> ，对象调用方法是 <code>Object.keys(obj)</code> 。</li><li>映射和集合方法返回的是类数组对象，对象调用后返回的是一个真正的数组。</li></ol><h3 id="垃圾回收弱映射与弱集合"><a class="markdownIt-Anchor" href="#垃圾回收弱映射与弱集合">#</a> 垃圾回收，弱映射与弱集合</h3><h4 id="垃圾回收机制"><a class="markdownIt-Anchor" href="#垃圾回收机制">#</a> 垃圾回收机制</h4><p>JavaScript 中的垃圾回收是自动完成的，其中主要的内存管理概念是<strong>可达性</strong>。<br>“可达” 指的是以某种方式可访问或可用的值，它们是一定存储在内存中的：</p><ol><li><p>作为<strong>根</strong>的值，这些值明显是可达且不能被释放的：</p><ul><li>当前执行的函数，它的局部变量和参数</li><li>当前嵌套调用链上的其他函数，它们的局部变量和参数</li><li>全局变量</li><li>一些其他的内部值</li></ul></li><li><p>可以通过引用链从根的访问的任何其他的值。</p></li></ol><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// 全局变量 user 引用了对象 &#123;name: 'John'&#125;，对象此时是可达的</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>user <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//user 被重写了，原对象 &#123;name: 'John'&#125; 变成不可达了</span></pre></td></tr></table></figure><p>垃圾回收的内部算法被称为标记清理（mark-and-sweep）.</p><ul><li>垃圾收集器找到所有的根并标记它们</li><li>遍历并标记来自根的所有引用</li><li>遍历标记的对象并标记<strong>它们的</strong>引用，被遍历后的对象不会被重复遍历</li><li>… 循环直至从根出发所有引用都被访问（所有可达的）</li><li>没有被标记的对象（不可达的）都会被删除</li></ul><h4 id="弱映射和弱集合"><a class="markdownIt-Anchor" href="#弱映射和弱集合">#</a> 弱映射和弱集合</h4><p>通常来说，当对象、数组等存在内存中时，它们的子元素都会被认为是可达的。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"John"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>user<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>user <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//user 引用的对象被存储在了 arr 中，所以它仍然是可达的</span></pre></td></tr><tr><td data-num="5"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;name: 'John'&#125;</span></pre></td></tr></table></figure><p>映射和集合中的子元素也是同理，存储在其中的值和对象会被认为是可达的，不会被垃圾回收机制回收。而弱映射（weakMap）和弱集合（weakSet）不会阻止垃圾回收机制的回收：</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> weakMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 与 Map 不同，weakMap 只接受对象作为 key</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>weakMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">"ok"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>weakMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"str"</span><span class="token punctuation">,</span> <span class="token string">"string"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//error</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 当没有其他对 weakMap 中对象的引用时，该对象会被从内存中清除</span></pre></td></tr><tr><td data-num="8"></td><td><pre>obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>weakMap<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//false</span></pre></td></tr></table></figure><p>弱映射支持的方法只有 <code>weakMap.get(key)</code> 、 <code>weakMap.set(key,value)</code> 、 <code>weakMap.has(key)</code> 和 <code>weakMap.delete(key)</code> 。</p><p>弱集合的表现与集合类似，同样的，只能向弱集合添加对象作为值，而当没有其他对弱集合中对象的引用时，它会被垃圾回收机制清除。<br>弱集合也只支持 <code>add</code> 、 <code>has</code> 和 <code>delete</code> 方法。</p><h4 id="应用场景"><a class="markdownIt-Anchor" href="#应用场景">#</a> 应用场景</h4><p>弱映射和弱集合主要的局限在于它们无法迭代，它们的主要应用场景在额外数据的存储。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> weakMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>weakMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>john<span class="token punctuation">,</span> <span class="token string">"secret documents"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 假如我们正在处理一段属于另一个代码的对象，并希望存储一些与之相关的数据</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 显然，这些数据应该与这个对象共存亡，这正是需要 weakMap 的时候</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 当这个第三方对象被垃圾回收机制清理时，与之相关的数据也会被自动清除</span></pre></td></tr></table></figure><p>vue3 中在实现响应式处理时便用到了 <code>weakMap</code> ，正是为了避免影响 JavaScript 的垃圾回收。</p><h3 id="解构赋值"><a class="markdownIt-Anchor" href="#解构赋值">#</a> 解构赋值</h3><p>解构赋值是一种特殊的语法，它允许我们将数组或者对象拆包到一系列变量中，而不会破坏原来的对象。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"John"</span><span class="token punctuation">,</span> <span class="token string">"Smith"</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> <span class="token punctuation">[</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 等价于</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// let firstName = arr[0];</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// let lastName = arr[1];</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 等号的左侧可以是任何可赋值的对象，等号的右侧可以是任何可迭代对象</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">let</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"John"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> user<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// 这个方法可以用来立刻交换两个变量的值</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">"A"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">"B"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 通过临时数组，任何解构赋值来交换它们的值</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 通常，当数组比列表长时，其余的项目会被忽略，或者也可以用 '...' 来接受剩余项</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">let</span> <span class="token punctuation">[</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> newArr<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[4, 2, 8]</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 如果数组比左边列表短，缺少对应值的变量会被赋值为 undefined，或者用 = 为其默认赋值</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">let</span> <span class="token punctuation">[</span>name <span class="token operator">=</span> <span class="token string">"John"</span><span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">,</span> isAdmin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//John，默认赋值</span></pre></td></tr><tr><td data-num="30"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isAdmin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//undefined，缺少对应值</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 对象也适应于解构赋值，基本语法如下：</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token comment">// let &#123;var1: v1, var2: v2, ...rest&#125; = &#123;var1: value, var2: value, var3: value, ...&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token comment">//var1,var2 和对象中的属性名一一对应，赋值与属性名对应而与顺序无关</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token comment">// 左侧 var1: v1 的意思是将 obj [var1] 的值赋给名为 v1 的变量</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token comment">// 同样的，...rest 会收集剩下未赋值的部分作为一个新对象</span></pre></td></tr><tr><td data-num="37"></td><td><pre></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token keyword">let</span> box <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">"flexBox"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">"120px"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="41"></td><td><pre>  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">"160px"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">let</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">height</span><span class="token operator">:</span> h<span class="token punctuation">,</span> <span class="token literal-property property">width</span><span class="token operator">:</span> w<span class="token punctuation">,</span> <span class="token operator">...</span>restItems <span class="token punctuation">&#125;</span> <span class="token operator">=</span> box<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//120px</span></pre></td></tr><tr><td data-num="45"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>restItems<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//&#123;id: 'flexBox'&#125;，还是一个对象</span></pre></td></tr><tr><td data-num="46"></td><td><pre></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token comment">// 嵌套对象的数据也可以通过在左侧使用对应的更复杂的模式 (pattern) 来获取</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token keyword">let</span> options <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">160</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="52"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="53"></td><td><pre>  <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"book"</span><span class="token punctuation">,</span> <span class="token string">"pen"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  <span class="token literal-property property">extra</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token comment">// 为了便于阅读，模式被写成多行</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token keyword">let</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>  <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    <span class="token comment">// 把 size 解构赋值</span></pre></td></tr><tr><td data-num="61"></td><td><pre>    width<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    height<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  <span class="token literal-property property">items</span><span class="token operator">:</span> <span class="token punctuation">[</span>item1<span class="token punctuation">,</span> item2<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 把 items 解构赋值</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  title <span class="token operator">=</span> <span class="token string">"list"</span><span class="token punctuation">,</span> <span class="token comment">// 使用默认值</span></pre></td></tr><tr><td data-num="66"></td><td><pre><span class="token punctuation">&#125;</span> <span class="token operator">=</span> options<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre></pre></td></tr><tr><td data-num="68"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> item1<span class="token punctuation">,</span> item2<span class="token punctuation">,</span> title<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token comment">// 最终取得各变量的值 [200, 160, 'book', 'pen', 'list']</span></pre></td></tr></table></figure><h3 id="日期和时间"><a class="markdownIt-Anchor" href="#日期和时间">#</a> 日期和时间</h3><p>日期（Date）是一个内建对象，该对象存储日期和时间和管理它们的相关方法。</p><h4 id="创建日期对象"><a class="markdownIt-Anchor" href="#创建日期对象">#</a> 创建日期对象</h4><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 显示当前日期时间</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">//new Date (milliseconds)，创建一个 Date 对象，</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 时间等于 1970 年 1 月 1 日 UTC+0 后经过的毫秒数</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 传入负值表示在这个日期之前的时间</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 这个整数被称为时间戳（timestamp）</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">24</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">//new Date ('dateString') 如果只传入一个字符串参数，那么它会被解析</span></pre></td></tr><tr><td data-num="12"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">"2022-11-11"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 假定为标准时间并根据用户执行时时区调整</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// new Date(year, month, date, hours, minutes, seconds, ms)</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 完整写法，只有 year 和 month 是必须的</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">//year 兼容 4 位数和 2 位数，2 位数被视为 19xx</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">//month 计数从一月（0）到十二月（11）</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">//date 为当月某天，默认为 1</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token comment">//hours/minutes/seconds/ms 默认为 0</span></pre></td></tr></table></figure><h4 id="访问和设置日期组件"><a class="markdownIt-Anchor" href="#访问和设置日期组件">#</a> 访问和设置日期组件</h4><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>getFullYear()</code></td><td>获取年份 (4 位数)， <code>getYear()</code> 是非标准的，某些情况下可能返回 2 位数</td></tr><tr><td><code>getMonth()</code></td><td>获取月份，从一月 (0) 到十二月 (11)</td></tr><tr><td><code>getDate()</code></td><td>获取当月日期，从 1 到 31</td></tr><tr><td><code>getDay()</code></td><td>获取一周中的第几天，从周日 (0) 到周六 (6)</td></tr><tr><td><code>getTime()</code></td><td>返回日期的时间戳</td></tr><tr><td><code>getTimezoneOffset()</code></td><td>返回 UTC 与本地时区之间的时差，以分钟为单位</td></tr></tbody></table><p>另外还有对应的 <code>hours/minutes/seconds/ms</code> 的获取方法，要获取对应当地时间 (UTC 项) 只需要在 <code>get</code> 后面插入 <code>UTC</code> 即可。<br>使用对应的 <code>set</code> 方法可以设置日期组件，除了 <code>setTime(milliseconds)</code> 外，其他方法也有对应的 UTC 变种。</p><h4 id="自动校准和日期转换"><a class="markdownIt-Anchor" href="#自动校准和日期转换">#</a> 自动校准和日期转换</h4><p><code>Date</code> 对象具有自动校准功能</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 并不清楚那一年是否有闰年，或者设置了一个超出范围的日期</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Mon Mar 02 2020... 因为闰年，2 月 29 天，多出两天，所以是 3 月 2 号</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 当 Date 对象转换为数字时，得到的是对应的时间戳</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 因此，日期可以进行相减，并且得到以毫秒为单位的时间差</span></pre></td></tr><tr><td data-num="7"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span>date <span class="token operator">===</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 当仅仅需要返回时间戳的时候，可以用 Date.now ()</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 它等同于 new Date ().getTime ()，但好处是不需要创建 Date 对象</span></pre></td></tr><tr><td data-num="11"></td><td><pre>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span></pre></td></tr></table></figure><h4 id="dateparse"><a class="markdownIt-Anchor" href="#dateparse">#</a> Date.parse</h4><p><code>Date.parse</code> 方法可以从一个字符串中读取日期。<br>字符串的格式为 <code>YYYY-MM-DDTHH:mm:ss.sssZ</code> :</p><ul><li><code>YYYY-MM-DD</code> 指年 - 月 - 日；</li><li><code>T</code> 是一个分隔字符；</li><li><code>HH:mm:ss.sss</code> 指小时：分钟。毫秒；</li><li><code>Z</code> 是一个可选字符，为 <code>+-hh:mm</code> 格式的时区。</li></ul><p>字符串格式正确，它会被解析并返回时间戳。如果字符串的格式不正确，调用方法会返回 <code>NaN</code> 。<br>在 <code>new Date('dateString')</code> 中的字符串也是根据 <code>Date.parse</code> 中的格式来解析的。</p><div class="tags"><a href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag"><i class="ic i-tag"></i> 前端</a> <a href="/tags/JavaScript/" rel="tag"><i class="ic i-tag"></i> JavaScript</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-05-14 18:01:12" itemprop="dateModified" datetime="2023-05-14T18:01:12+08:00">2023-05-14</time> </span><span id="posts/fba5/" class="item leancloud_visitors" data-flag-title="JavaScript 原始类型与引用类型" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span>此文章已被阅读次数: </span><span id="twikoo_visitors">正在加载...</span></span></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Umi <i class="ic i-at"><em>@</em></i>乌弥的小屋</li><li class="link"><strong>本文链接：</strong> <a href="https://www.umi.homes/posts/fba5/" title="JavaScript 原始类型与引用类型">https://www.umi.homes/posts/fba5/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/posts/28818/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;52576256_p0.37277i16zfu0.webp" title="JavaScript语言基础"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 前端基础</span><h3>JavaScript语言基础</h3></a></div><div class="item right"><a href="/posts/3b64/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.staticaly.com&#x2F;gh&#x2F;umitsurumi&#x2F;image-hosting@master&#x2F;cover&#x2F;63302874_p0.2yj6tjryt8m0.webp" title="JavaScript对象、原型与类"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 前端基础</span><h3>JavaScript对象、原型与类</h3></a></div></div><div class="wrap"><div id="tcomments"></div></div><script src="https://cdn.staticfile.org/twikoo/1.6.9/twikoo.all.min.js"></script><script data-pjax>setTimeout(function(){twikoo.init({envId:"https://api.twikoo.umi.homes",el:"#tcomments"})},1e3)</script></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E6%96%B9%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">原始类型方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#number"><span class="toc-number">1.1.</span> <span class="toc-text">number</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#numtostringbase"><span class="toc-number">1.1.1.</span> <span class="toc-text">num.toString(base)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%88%A4%E6%96%AD"><span class="toc-number">1.1.2.</span> <span class="toc-text">数字类型的判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#parseint-%E5%92%8C-parsefloat"><span class="toc-number">1.1.3.</span> <span class="toc-text">parseInt 和 parseFloat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#math-%E5%86%85%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.1.4.</span> <span class="toc-text">Math 内建对象</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string"><span class="toc-number">1.2.</span> <span class="toc-text">string</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%AD%97%E7%AC%A6"><span class="toc-number">1.2.1.</span> <span class="toc-text">访问字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%E5%8F%98%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">1.2.2.</span> <span class="toc-text">改变大小写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E5%AD%90%E4%B8%B2"><span class="toc-number">1.2.3.</span> <span class="toc-text">查找子串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E5%AD%90%E4%B8%B2"><span class="toc-number">1.2.4.</span> <span class="toc-text">获取子串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.2.5.</span> <span class="toc-text">比较字符串</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">集合引用类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.1.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E5%9F%BA%E7%A1%80"><span class="toc-number">2.1.1.</span> <span class="toc-text">数组基础</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.1.2.</span> <span class="toc-text">数组方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%95%B0%E7%BB%84"><span class="toc-number">2.1.3.</span> <span class="toc-text">遍历数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.4.</span> <span class="toc-text">修改数组元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E7%B4%A2%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0"><span class="toc-number">2.1.5.</span> <span class="toc-text">检索数组元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%AC%E6%8D%A2%E6%95%B0%E7%BB%84"><span class="toc-number">2.1.6.</span> <span class="toc-text">转换数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#thisarg"><span class="toc-number">2.1.7.</span> <span class="toc-text">thisArg</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.2.</span> <span class="toc-text">可迭代对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#symboliterator"><span class="toc-number">2.2.1.</span> <span class="toc-text">Symbol.iterator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%BF%AD%E4%BB%A3%E4%B8%8E%E7%B1%BB%E6%95%B0%E7%BB%84"><span class="toc-number">2.2.2.</span> <span class="toc-text">可迭代与类数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.2.3.</span> <span class="toc-text">生成器的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E8%BF%9B%E9%98%B6"><span class="toc-number">2.2.4.</span> <span class="toc-text">生成器进阶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84%E5%92%8C%E9%9B%86%E5%90%88"><span class="toc-number">2.3.</span> <span class="toc-text">映射和集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%A0%E5%B0%84map"><span class="toc-number">2.3.1.</span> <span class="toc-text">映射（Map）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#map-%E8%BF%AD%E4%BB%A3"><span class="toc-number">2.3.2.</span> <span class="toc-text">Map 迭代</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-map"><span class="toc-number">2.3.3.</span> <span class="toc-text">创建 map</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88set"><span class="toc-number">2.3.4.</span> <span class="toc-text">集合（Set）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">2.3.5.</span> <span class="toc-text">对象的遍历</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%BC%B1%E6%98%A0%E5%B0%84%E4%B8%8E%E5%BC%B1%E9%9B%86%E5%90%88"><span class="toc-number">2.4.</span> <span class="toc-text">垃圾回收，弱映射与弱集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">2.4.1.</span> <span class="toc-text">垃圾回收机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%B1%E6%98%A0%E5%B0%84%E5%92%8C%E5%BC%B1%E9%9B%86%E5%90%88"><span class="toc-number">2.4.2.</span> <span class="toc-text">弱映射和弱集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">2.4.3.</span> <span class="toc-text">应用场景</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">2.5.</span> <span class="toc-text">解构赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4"><span class="toc-number">2.6.</span> <span class="toc-text">日期和时间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%97%A5%E6%9C%9F%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.6.1.</span> <span class="toc-text">创建日期对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E5%92%8C%E8%AE%BE%E7%BD%AE%E6%97%A5%E6%9C%9F%E7%BB%84%E4%BB%B6"><span class="toc-number">2.6.2.</span> <span class="toc-text">访问和设置日期组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E6%A0%A1%E5%87%86%E5%92%8C%E6%97%A5%E6%9C%9F%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.6.3.</span> <span class="toc-text">自动校准和日期转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dateparse"><span class="toc-number">2.6.4.</span> <span class="toc-text">Date.parse</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li><a href="/posts/5731/" rel="bookmark" title="HTML基础知识">HTML基础知识</a></li><li><a href="/posts/62621/" rel="bookmark" title="CSS基础知识">CSS基础知识</a></li><li><a href="/posts/62941/" rel="bookmark" title="CSS简单技巧">CSS简单技巧</a></li><li><a href="/posts/13596/" rel="bookmark" title="CSS3新特性">CSS3新特性</a></li><li><a href="/posts/63325/" rel="bookmark" title="CSS常用布局">CSS常用布局</a></li><li><a href="/posts/15489/" rel="bookmark" title="响应式布局基础">响应式布局基础</a></li><li><a href="/posts/28818/" rel="bookmark" title="JavaScript语言基础">JavaScript语言基础</a></li><li class="active"><a href="/posts/fba5/" rel="bookmark" title="JavaScript原始类型与引用类型">JavaScript原始类型与引用类型</a></li><li><a href="/posts/3b64/" rel="bookmark" title="JavaScript对象、原型与类">JavaScript对象、原型与类</a></li><li><a href="/posts/390000/" rel="bookmark" title="JavaScript函数深入">JavaScript函数深入</a></li><li><a href="/posts/c9b1/" rel="bookmark" title="浏览器环境，Document">浏览器环境，Document</a></li><li><a href="/posts/c8f1/" rel="bookmark" title="事件初步">事件初步</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Umi" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Umi</p><div class="description" itemprop="description">乌弥的个人博客</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">30</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">8</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">16</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3VtaXRzdXJ1bWk=" title="https:&#x2F;&#x2F;github.com&#x2F;umitsurumi"><i class="ic i-github"></i></span> <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span> <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span> <span class="exturl item email" data-url="bWFpbHRvOnlvdXJuYW1lQG1haWwuY29t" title="mailto:yourname@mail.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item dropdown"><a href="javascript:void(0);" rel="external nofollow noreferrer"><i class="ic i-magic"></i>链接</a><ul class="submenu"><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友链</a></li><li class="item"><a href="/favorites/" rel="section"><i class="ic i-star"></i>收藏</a></li></ul></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>关于</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/posts/28818/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/posts/3b64/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Umi @ Umi's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">255k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">3:52</span></div><div class="icp"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://icp.gov.moe/?keyword=20221331">萌ICP备20221331</a></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"posts/fba5/",favicon:{show:"（●´3｀●）复活成功",hide:"(´Д｀)浏览器崩溃啦"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!1,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
  mermaid.initialize({ startOnLoad: true, theme: 'forest' });</script></body></html><!-- rebuild by hrmmi -->